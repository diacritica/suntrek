/*
 *
 * Wijmo Library 2.2.0
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the Wijmo Commercial or GNU GPL Version 3 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/license
 *
 *
 **/
(function(a){"use strict";if(!window.Raphael)return;a.widget("wijmo.wijlinechart",a.wijmo.wijchartcore,{options:{stacked:false,hole:null,type:"line",animation:{enabled:true,direction:"horizontal",duration:2e3,easing:">"},seriesTransition:{enabled:true,duration:2e3,easing:">"},mouseDown:null,mouseUp:null,mouseOver:null,mouseOut:null,mouseMove:null,click:null},_create:function(){var b=this,c=b.options;a.wijmo.wijchartcore.prototype._create.apply(b,arguments);b.chartElement.addClass("wijmo-wijlinechart");c.type==="area"&&b.chartElement.addClass("wijmo-wijareachart")},destroy:function(){var b=this,c=b.options;b.chartElement.removeClass("wijmo-wijlinechart");c.type==="area"&&b.chartElement.removeClass("wijmo-wijareachart");a.wijmo.wijchartcore.prototype.destroy.apply(b,arguments);if(b.aniPathsAttr&&b.aniPathsAttr.length){a.each(b.aniPathsAttr,function(b,a){a=null});b.aniPathsAttr=null}},getLinePath:function(c){var d=this,b=d.chartElement.data("fields"),a,e;if(b&&b.chartElements){a=b.chartElements;if(a.paths&&a.paths.length)return a.paths[c]}return e},getLineMarkers:function(b){var e=this,d=e.options,c=e.chartElement.data("fields"),a,f;if(d.seriesList&&d.seriesList[b].markers&&d.seriesList[b].markers.visible)if(c&&c.chartElements){a=c.chartElements;if(a.markersSet&&a.markersSet.length)return a.markersSet[b]}return f},_showSerieEles:function(b){var d=this.options,c;b.markers&&a.each(b.markers,function(d,c){var b=a(c.node).data("wijchartDataObj");if(b&&b.lineSeries&&b.lineSeries.markers)if(!b.lineSeries.markers.visible)return true;c.show()});b.dcl&&a.each(b.dcl,function(b,a){d.showChartLabels&&a.show()});if(b.path){c=a(b.path.node).data("wijchartDataObj");if(c.visible){b.path.show();b.path.shadow&&b.path.shadow.show();b.path.area&&b.path.area.show();b.path.tracker&&b.path.tracker.show()}}},_hideSerieEles:function(b){b.markers&&a.each(b.markers,function(b,a){a.hide()});b.dcl&&a.each(b.dcl,function(b,a){a.hide()});if(b.path){b.path.hide();b.path.shadow&&b.path.shadow.hide();b.path.area&&b.path.area.hide();b.path.tracker&&b.path.tracker.hide()}},_paintLegend:function(){var d=this,l=d.options,b=0,n=0,k=0,i=null,m=l.seriesList,q=l.seriesStyles,c=null,j=null,e=null,o=0,p=0,g=null,h=null,f=null;a.extend(true,l,{legend:{size:{width:30,height:3}}});a.wijmo.wijchartcore.prototype._paintLegend.apply(d,arguments);if(l.legend.visible){if(d.legends.length&&d.legendIcons.length)for(b=0,n=d.legendIcons.length;b<n;b++){i=d.legendIcons[b];i.attr({fill:i.attr("stroke")})}if(!l.legend.reversed)for(b=0,n=m.length;b<n;b++){c=m[b];j=q[b];if(c.legendEntry&&c.display!=="exclude"){if(c.markers&&c.markers.visible){i=d.legendIcons[k];e=i.wijGetBBox();o=e.x+e.width/2;p=e.y+e.height/2;g=c.markerStyle;g=a.extend({fill:j.stroke,stroke:j.stroke,opacity:1},g);h=c.markers.type;if(!h)h="circle";f=d.canvas.paintMarker(h,o,p,3);a.wijraphael.addClass(a(f.node),"chart-legend-dot wijchart-legend");f.attr(g);a(f.node).data("index",b).data("legendIndex",k);d.legendDots.push(f)}k++}}else for(b=m.length-1;b>=0;b--){c=m[b];j=q[b];if(c.legendEntry&&c.display!=="exclude"){if(c.markers&&c.markers.visible){i=d.legendIcons[k];e=i.wijGetBBox();o=e.x+e.width/2;p=e.y+e.height/2;g=c.markerStyle;g=a.extend({fill:j.stroke,stroke:j.stroke,opacity:1},g);h=c.markers.type;if(!h)h="circle";f=d.canvas.paintMarker(h,o,p,3);a.wijraphael.addClass(a(f.node),"chart-legend-dot wijchart-canvas-object wijchart-legend");f.attr(g);a(f.node).data("index",b).data("legendIndex",k);d.legendDots.push(f)}k++}}}},_mouseDown:function(){a.wijmo.wijchartcore.prototype._mouseDown.apply(this,arguments)},_mouseUp:function(){a.wijmo.wijchartcore.prototype._mouseUp.apply(this,arguments)},_mouseOver:function(d,c){var b=this;if(!c||c.type!=="line")return;a.wijmo.wijchartcore.prototype._mouseOver.apply(this,arguments);if(c.path.removed)return;if(b.hoverLine!==c){b.isNewLine=true;if(b.hoverLine)if(!b.hoverLine.path.removed){b.hoverLine.path.wijAttr(b.hoverLine.lineStyle);if(b.hoverPoint&&!b.hoverPoint.isSymbol){b.hoverPoint.marker.wijAttr(b.hoverPoint.markerStyle);b.hoverPoint.marker.transform("s1")}}c.lineHoverStyle&&c.path.wijAttr(c.lineHoverStyle);b.hoverLine=c;b.hoverPoint=null;b.hoverVirtualPoint=null}},_mouseOut:function(){a.wijmo.wijchartcore.prototype._mouseOut.apply(this,arguments)},_mouseMove:function(){a.wijmo.wijchartcore.prototype._mouseMove.apply(this,arguments)},_click:function(){a.wijmo.wijchartcore.prototype._click.apply(this,arguments)},_mouseMoveInsidePlotArea:function(u,q){var b=this,f=b.tooltip,j=b.options.hint,e,h,c=0,l,d,m,n,t=null,g=null,k=null,s=j.title,r=j.content,p=a.isFunction(s),o=a.isFunction(r),i=0;if(f)k=f.getOptions();if(b.hoverLine){if(b.isNewLine){j.enable&&f&&f.hide();b.isNewLine=false}e=b.hoverLine.lineMarkers;h=b.hoverLine.virtualMarkers;c=-1;l={x:0,y:0};if(e&&e.length){a.each(e,function(f,b){if(b.removed)return true;var a=b.wijGetBBox(),e=a.x+a.width/2,d=Math.abs(e-q.left);if(f===0||d<i){i=d;c=f;l={x:e,y:a.y+a.height/2}}});if(b.hoverPoint&&b.hoverPoint.index===c)return;if(c>-1){if(e[c].removed)return;d=a(e[c].node).data("wijchartDataObj");if(d){if(b.hoverPoint&&!b.hoverPoint.isSymbol)if(!b.hoverPoint.removed){b.hoverPoint.marker.wijAttr(b.hoverPoint.markerStyle);b.hoverPoint.marker.transform("s1")}if(!d.isSymbol)!d.marker.removed&&d.marker.wijAttr(d.markerHoverStyle)}b.hoverPoint=d;b.hoverVirtualPoint=h[c]}}else{a.each(h,function(d,a){var b=Math.abs(a.x-q.left);if(d===0||b<i){i=b;c=d;l={x:a.x,y:a.y}}});if(b.hoverVirtualPoint&&b.hoverVirtualPoint.index===c)return;if(c>-1){b.hoverPoint=null;b.hoverVirtualPoint=h[c]}}if(f){g=b.hoverVirtualPoint;m=g.valX;n=g.valY;if(p||o){if(p)k.title=function(){var d={pointIndex:c,lineIndex:b.hoverLine.index,x:m,y:n,label:b.hoverLine.label,data:g,fmt:s},e=a.proxy(d.fmt,d),f=e();return f};if(o)k.content=function(){var d={pointIndex:c,lineIndex:b.hoverLine.index,x:m,y:n,label:b.hoverLine.label,data:g,fmt:r},f=a.proxy(d.fmt,d),e=f();return e}}t=a.extend({stroke:b.hoverLine.path.attr("stroke")},j.style);k.style.stroke=t.stroke;f.showAt(l)}}a.wijmo.wijchartcore.prototype._mouseMoveInsidePlotArea.apply(b,arguments)},_mouseMoveOutsidePlotArea:function(){var b=this;b._clearHoverState();a.wijmo.wijchartcore.prototype._mouseMoveOutsidePlotArea.apply(b,arguments)},_clearHoverState:function(){var a=this,b=a.tooltip,c=a.options.hint;c.enable&&b&&b.hide();if(a.hoverLine)if(!a.hoverLine.path.removed){a.hoverLine.path.wijAttr(a.hoverLine.lineStyle);if(a.hoverPoint&&!a.hoverPoint.isSymbol){a.hoverPoint.marker.wijAttr(a.hoverPoint.markerStyle);a.hoverPoint.marker.transform("s1")}}a.hoverLine=null;a.hoverPoint=null;a.hoverVirtualPoint=null},_paintPlotArea:function(){var b=this,c=b.options,d;if(!b.aniPathsAttr)b.aniPathsAttr=[];d={bounds:b.canvasBounds,widgetName:b.widgetName,canvas:b.canvas,tooltip:b.tooltip,stacked:c.stacked,hole:c.hole,type:c.type,axis:c.axis,animation:c.animation,seriesTransition:c.seriesTransition,seriesList:c.seriesList,seriesStyles:c.seriesStyles,seriesHoverStyles:c.seriesHoverStyles,showChartLabels:c.showChartLabels,chartLabelStyle:c.chartLabelStyle,chartLabelFormatString:c.chartLabelFormatString,isXTime:b.axisInfo.x.isTime,isYTime:b.axisInfo.y.isTime||b.axisInfo.y[0].isTime,disabled:c.disabled,culture:b._getCulture(),hint:c.hint,aniPathsAttr:b.aniPathsAttr,chartLabelEles:b.chartLabelEles,mouseDown:a.proxy(b._mouseDown,b),mouseUp:a.proxy(b._mouseUp,b),mouseOver:a.proxy(b._mouseOver,b),mouseOut:a.proxy(b._mouseOut,b),mouseMove:a.proxy(b._mouseMove,b),click:a.proxy(b._click,b)};b.chartElement.wijline(d)}})})(jQuery);(function(a){"use strict";if(!window.Raphael)return;a.wijchart._line=function(e,b){var f=this,p=b.bounds,n=b.widgetName,s=b.canvas,t=b.animation,q=b.seriesTransition,D=b.hint,B=b.tooltip,u=b.mouseDown,A=b.mouseUp,w=b.mouseOver,y=b.mouseOut,v=b.mouseMove,C=b.click,l=[],r=[],k=[],h=[],j=[],x=b.disabled,g=s.set(),d=b.aniPathsAttr,i=[],o,c=e.data("fields")||{},m=[],z=b.culture;f.render(b,i,d,h,j,l,g,r,k,m,z);(t.enabled||q.enabled)&&f.playAnimation(t,q,g,p,h,d);d.length=0;a.each(i,function(b,a){d.push(a)});f.unbindLiveEvents(e,n);f.bindLiveEvents(e,s,p,n,u,A,w,y,v,C,x,D,k,B);o={paths:h,shadowPaths:j,markersSet:l,animationSet:g,symbols:r};if(!c.chartElements)c.chartElements={};c.seriesEles=m;a.extend(true,c.chartElements,o);e.data("fields",c)};a.wijchart._line.prototype.playAnimation=function(g,b,i,j,h,c){var f=this,d=g.duration,e=g.easing;if(g.direction==="horizontal"){if(c&&c.length&&b.enabled){d=b.duration;e=b.easing}f.playHAnimation(d,e,i,j,h)}else a.each(h,function(g,a){if(typeof a==="undefined"||a===null)return true;if(c&&c.length&&b.enabled){d=b.duration;e=b.easing;f.playVAnimation(a,c,g,d,e)}else a.straight&&f.playVStraightAnimation(a,d,e)})};a.wijchart._line.prototype.playVAnimation=function(b,g,h,e,f){var c,d;b.shadow&&b.shadow.hide();b.tracker&&b.tracker.hide();c=g[h];d=a.wijchart.getDiffAttrs(c.path,b.attr());if(!a.isEmptyObject(d)){b.attr(c.path);b.wijAnimate(d,e,f,function(){b.shadow&&b.visible!==false&&b.shadow.show();b.tracker&&b.tracker.show()})}a.each(b.markers,function(g,b){var d=a.wijchart.getDiffAttrs(c.markers[g],b.attr());if(!a.isEmptyObject(d)){b.attr(c.markers[g]);b.wijAnimate(d,e,f)}});b.labels&&a.each(b.labels,function(h,d){var g=a.wijchart.getDiffAttrs(c.labels[h],d.attr()),b=c.labels[h];if(b&&b.text)delete b.text;if(!a.isEmptyObject(g)){d.attr(b);d.wijAnimate(g,e,f)}});if(b.area){d=a.wijchart.getDiffAttrs(c.area,b.area.attr());if(!a.isEmptyObject(d)){b.area.attr(c.area);b.area.wijAnimate(d,e,f)}}};a.wijchart._line.prototype.playVStraightAnimation=function(b,f,g){var d,e,c;b.shadow&&b.shadow.hide();b.tracker&&b.tracker.hide();d=b.straight;e=b.attr().path;b.attr({path:d});b.wijAnimate({path:e},f,g,function(){b.shadow&&b.visible!==false&&b.shadow.show();b.tracker&&b.tracker.show()});a.each(b.markers,function(c,a){if(a.straight){var b=a.attr().cy;a.attr({cy:a.straight});a.wijAnimate({cy:b},f,g)}});if(b.area){c=b.area;d=c.straight;e=c.attr().path;c.attr({path:d});c.wijAnimate({path:e},f,g)}};a.wijchart._line.prototype.playHAnimation=function(e,f,c,b,g){a.each(g,function(b,a){a.tracker&&a.tracker.hide()});var h=b.endX-b.startX+20,d=b.endY-b.startY+20;c.wijAttr("clip-rect",b.startX-10+" "+(b.startY-10)+" 0 "+d);c.wijAnimate({"clip-rect":b.startX-10+" "+(b.startY-10)+" "+h+" "+d},e,f,function(){this.tracker&&this.tracker.show();if(Raphael.vml){var b=null,d=null,c=this.node;if(c&&c.clipRect){b=this.attrs;delete b["clip-rect"];c.clipRect=null;d=a(c).parent();d.before(c);d.remove();this.attr(b);b.src&&b.src.length&&this.attr({src:b.src})}}})};a.wijchart._line.prototype.render=function(b,F,t,l,p,J,u,N,I,K,L){var s=this,w=b.bounds,k=b.canvas,q=b.stacked,P=b.hole,Q=b.type,O=b.axis,R=b.animation,M=b.seriesTransition,n=false,v=b.seriesList,A=b.seriesStyles,B=b.seriesHoverStyles,D=b.showChartLabels,C=b.chartLabelStyle,z=b.chartLabelFormatString,y=b.isXTime,h=b.isYTime,E=b.chartLabelEles,e,f,g,x,r,c,H=[],G=[],d,j,i,o,m;a.each(v,function(X,b){var Z=[],bb=[],cb=[],U,T,W,S,V,Y,ab=[];if(b.display==="exclude")return true;Y=A[X];b=a.extend(true,{display:"show",fitType:"line",markers:{visible:false,type:"circle"},visible:true},b);U=b.data;T=a.extend({stroke:"black",opacity:1,fill:"none","stroke-linejoin":"round","stroke-linecap":"round"},Y);S=b.markerStyle;S=a.extend({fill:T.stroke,stroke:T.stroke,opacity:1,width:3},S);W=B[X];V=a.extend(true,{},W,{transform:"s1.5","stroke-width":1},v.markerHoverStyle);r=[].concat(U.x);c=[].concat(U.y);i=k.set();j=[];x=b.fitType;o=false;if(b.markers.symbol&&b.markers.symbol.length)o=true;e=k.set();if(!t||t.length===0||R.enabled&&!M.enabled)n=true;if(n)if(c.length>0){f=a.wijchart.getFirstValidListValue(c);if(h)f=a.toOADate(f);g=a.wijchart.getLastValidListValue(c);if(h)g=a.toOADate(g)}m=s.processYValues(c,b.display,P,q,H);a.each(c,function(l,p){d=r[l];if(y)d=a.toOADate(d);p=c[l];if(m[l].isHole){if(b.display==="excludeHole")return true;if(!m[l].isValue)return true}if(h)p=a.toOADate(p);if(d===undefined)return false;j=s.renderPoint(w,k,cb,j,i,Z,u,e,bb,E,z,n,f,g,d,p,U.y[l],O,x,y,h,l,S,V,b,o,D,N,r,c,m,b.display,q,ab,L)});s.renderPath(k,w,b,l,p,I,W,S,V,i,J,u,j,F,cb,T,C,Z,bb,e,X,Q,G,q,ab);K.push({markers:i,path:l[l.length-1],shadowPath:p[p.length-1],dcl:e})});a.each(l,function(b,a){a.tracker&&a.tracker.toFront()})};a.wijchart._line.prototype.renderPath=function(t,g,d,D,I,J,x,G,E,l,K,z,b,A,h,e,F,w,y,n,i,M,B,L,H){var c,v,C,j,f,u,m,s,p,o,q,k,r;c=t.path(b.join(" "));c.straight=h.join(" ");a.wijchart.paintShadow(c);if(i===0){B.length=0;if(b.length>1){f=b[1];u=b[b.length-2]}else{f=g.startX;u=g.endX}a.merge(B,["L",f,g.endY,"L",u,g.endY])}m=t.path(b.join(" "));c.tracker=m;if(e["stroke-width"])s=10+parseFloat(e["stroke-width"]);else s=10;m.attr({"stroke-width":s,stroke:"#C0C0C0",opacity:.01});a.wijraphael.addClass(a(m.node),"wijchart-canvas-object wijlinechart linetracker");a(m.node).data("owner",a(c.node));if(M==="area"){if(e.fill&&e.fill!=="none"){v=e.fill;delete e.fill}else v=e.stroke;C=.5;c.wijAttr(e);if(b.length>1)f=b[1];else f=g.startX;if(L)if(i>0){o=Raphael.parsePathString(D[i-1].attr("path"));if(o.length>0){for(r=o.length-1;r>=0;r--){q=o[r];if(q.length===3){b.push("L");b.push(q[1]);b.push(q[2])}}b.push("Z")}}else{b.push("V");b.push(g.endY);b.push("H");b.push(f);b.push("Z")}else{k=Raphael.parsePathString(c.attr("path"));if(k.length>0){b=[];a.each(k,function(d,c){a.each(c,function(c,a){b.push(a)});if(c[0]==="M")f=c[1];if(d<k.length-1&&k[d+1][0]==="M"){b.push("V");b.push(g.endY);b.push("H");b.push(f);b.push("Z")}if(d===k.length-1){b.push("V");b.push(g.endY);b.push("H");b.push(f);b.push("Z")}})}}j=t.path(b.join(" "));a.wijraphael.addClass(a(j.node),"wijlinechart-area");j.wijAttr({fill:v,opacity:C,stroke:"none"});h.push("V");h.push(g.endY);h.push("H");h.push(f);h.push("Z");j.straight=h.join(" ");c.area=j;z.push(j);A.push({path:a.extend(true,{},c.attr()),area:a.extend(true,{},j.attr()),markers:w,labels:y})}else{c.wijAttr(e);A.push({path:a.extend(true,{},c.attr()),markers:w,labels:y})}c.markers=l;D.push(c);if(c.shadow)I[i]=c.shadow;z.push(c);J[i]={lineStyle:e,lineHoverStyle:x,markerStyle:G,markerHoverStyle:E};(!d.markers.visible||d.display==="hide")&&l.hide();if(!d.visible||d.display==="hide"){c.hide();c.shadow&&c.shadow.hide();c.area&&c.area.hide();c.visible=false}d.markers.style&&l.attr(d.markers.style);l.toFront();if(n.length){p=a.extend(true,{},F);if(d.textStyle)p=a.extend(true,p,d.textStyle);n.attr(p);n.toFront();c.labels=n}K[i]=l;d.index=i;d.type="line";d.path=c;d.lineMarkers=l;d.lineStyle=e;d.lineHoverStyle=x;d.virtualMarkers=H;a.wijraphael.addClass(a(c.node),"wijchart-canvas-object wijlinechart");a(c.node).data("wijchartDataObj",d)};a.wijchart._line.prototype.renderPoint=function(d,D,p,r,V,K,O,I,N,L,G,y,z,Q,n,u,Z,l,T,U,A,c,w,H,q,P,J,X,B,C,i,S,W,M,R){var t=this,ab=d.endX-d.startX,Y=d.endY-d.startY,j=l.x.min,m=l.y.min,E=l.x.max,bb=l.y.max,F=ab/(E-j),v=Y/(bb-m),s,e,o,f=0,g,h,b,k,x=q.markers.visible;if(isNaN(n)||typeof n==="string")o=c;else o=n;f=d.startX+(o-j)*F;g=d.endY-(u-m)*v;i[c].x=f;i[c].y=g;if(y){h=z+(Q-z)/(E-j)*(o-j);h=d.endY-(h-m)*v;p.push(i[c].idx?"L":"M");p.push(f);p.push(h)}if(!i[c].isHole)r=t.getPathArrByFitType(r,T,c,C.length,d,B,C,f,g,U,A,n,u,F,v,j,m,i,S,W);if(J){k=t.renderChartLabel(D,A,u,G,f,g,R);L.push(k);I.push(k);N.push(a.extend(true,{},k.attr()))}if(x){s=t.renderMarker(D,X,P,q.markers,c,f,g,w);e=s.dot;if(y)e.straight=h}b={};b.valX=B[c];b.valY=Z;b.index=c;b.type="marker";b.lineSeries=q;b.x=f;b.y=g;b.markerStyle=w;b.markerHoverStyle=H;if(x){b.marker=e;b.isSymbol=s.isSymbol;a(e.node).data("wijchartDataObj",b);V.push(e);K.push(a.extend(true,{},e.attr()));O.push(e)}M.push(b);return r};a.wijchart._line.prototype.processYValues=function(d,i,e,g,c){var h=[],b=0,f=0;a.each(d,function(k,l){if(!b)f=k;var j={isHole:false,isValue:true,idx:b,firstYIdx:f,x:0,y:0};b++;if(a.wijchart.isHole(l,e))if(g)d[k]=0;else{j.isHole=true;if(i==="excludeHole"){b--;j.idx=0}else{b=0;j.idx=0}if(!a.wijchart.isHole(e)&&l===e)j.isValue=true;else j.isValue=false}h.push(j);if(g&&k<c.length)d[k]+=c[k]});c.length=0;a.merge(c,d);return h};a.wijchart._line.prototype.renderMarker=function(h,n,l,c,m,j,k,d){var i,b=null,g=false,f,e;if(l){i=c.symbol;a.each(i,function(c,a){if(a.index===m){b=h.image(a.url,j-a.width/2,k-a.height/2,a.width,a.height);n.push(b);g=true;return false}})}if(b===null){f=c.type;e=d.width;b=h.paintMarker(f,j,k,e);c.visible&&b.attr(d)}a.wijraphael.addClass(a(b.node),"wijchart-canvas-object wijlinechart wijchart-canvas-marker");return{dot:b,isSymbol:g}};a.wijchart._line.prototype.renderChartLabel=function(i,h,f,d,j,k,g){var c,b,e;c=h?a.fromOADate(f):f;if(d&&d.length)c=Globalize.format(c,d,g);b=i.text(j,k,c);a.wijraphael.addClass(a(b.node),"wijlinechart-label");e=b.wijGetBBox();b.transform(Raphael.format("...T{0},{1}",0,-e.height));return b};a.wijchart._line.prototype.getAnchors=function(j,k,a,b,l,m){var n=(a-j)/2,o=(l-a)/2,c=Math.atan((a-j)/Math.abs(b-k)),d=Math.atan((l-a)/Math.abs(b-m)),e=0,f=0,h=0,g=0,i=0;c=k<b?Math.PI-c:c;d=m<b?Math.PI-d:d;e=Math.PI/2-(c+d)%(Math.PI*2)/2;f=n*Math.sin(e+c);h=n*Math.cos(e+c);g=o*Math.sin(e+d);i=o*Math.cos(e+d);return{x1:a-f,y1:b+h,x2:a+g,y2:b+i}};a.wijchart._line.prototype.getPathArrByFitType=function(b,n,c,h,q,C,D,d,e,A,B,w,I,x,H,v,F,g,z,u){var G=this,p=null,t=0,y=0,r=0,s=0,o=null,m=null,E=g[c],l=false,j=E.idx,f,i=c-1,k=c+1;if(z==="excludeHole"&&!u){if(c>0&&c<h-1){k=-1;i=-1;for(f=c+1;f<h;f++){l=true;if(g[f].isHole)continue;k=f;l=false;break}for(f=c-1;f>=0;f--){if(g[f].isHole)continue;i=f;break}if(i>-1){r=g[i].x;t=g[i].y}}}else{if(c<h-1)l=g[k].isHole;if(c>0&&c<h-1){r=g[i].x;t=g[i].y}}if(u)n="line";if(n==="line")b=b.concat([j?"L":"M",d,e]);else if(n==="spline")if(!j)if(c===h-1)b=b.concat(["M",d,e]);else if(l)b=b.concat(["M",d,e]);else b=b.concat(["M",d,e,"C",d,e]);else if(j&&c<h-1&&!l){p=D[k];if(B)p=a.toOADate(p);y=q.endY-(p-F)*H;if(isNaN(w)||typeof w==="string")s=q.startX+(k-v)*x;else{o=C[k];if(A)o=a.toOADate(o);s=q.startX+(o-v)*x}m=G.getAnchors(r,t,d,e,s,y);b=b.concat([m.x1,m.y1,d,e,m.x2,m.y2])}else b=b.concat([d,e,d,e]);else if(n==="bezier")if(!j)b=b.concat(["M",d,e]);else if(c<h-1&&g[c+1].isHole&&j%2===1||c===h-1&&j%2===1)b=b.concat(["Q",d,e,d,e]);else if(j%2===0)b=b.concat([d,e]);else b=b.concat(["Q",d,e]);return b};a.wijchart._line.prototype.bindLiveEvents=function(b,o,m,d,f,j,h,i,g,k,e){var c={element:b,mousedown:function(g){if(e)return;var c=a(g.target),d,h=null;if(c.data("owner"))c=c.data("owner");d=c.data("wijchartDataObj");if(c.hasClass("wijchart-canvas-marker")){h=d.lineSeries;if(!h.markers.visible)f.call(b,g,h);else f.call(b,g,d)}else f.call(b,g,d)},mouseup:function(f){if(e)return;var c=a(f.target),d,g=null;if(c.data("owner"))c=c.data("owner");d=c.data("wijchartDataObj");if(c.hasClass("wijchart-canvas-marker")){g=d.lineSeries;if(!g.markers.visible)j.call(b,f,g);else j.call(b,f,d)}else j.call(b,f,d)},mouseover:function(f){if(e)return;var c=a(f.target),d,g=null;if(c.data("owner"))c=c.data("owner");d=c.data("wijchartDataObj");if(c.hasClass("wijchart-canvas-marker")){g=d.lineSeries;if(!g.markers.visible)h.call(b,f,g);else h.call(b,f,d)}else h.call(b,f,d)},mouseout:function(f){if(e)return;var c=a(f.target),d,g=null;if(c.data("owner"))c=c.data("owner");d=c.data("wijchartDataObj");if(c.hasClass("wijchart-canvas-marker")){g=d.lineSeries;if(!g.markers.visible)i.call(b,f,g);else i.call(b,f,d)}else i.call(b,f,d)},mousemove:function(f){if(e)return;var c=a(f.target),d,h=null;if(c.data("owner"))c=c.data("owner");d=c.data("wijchartDataObj");if(c.hasClass("wijchart-canvas-marker")){h=d.lineSeries;if(!h.markers.visible)g.call(b,f,h);else g.call(b,f,d)}else g.call(b,f,d)},click:function(f){if(e)return;var c=a(f.target),d,g=null;if(c.data("owner"))c=c.data("owner");d=c.data("wijchartDataObj");if(c.hasClass("wijchart-canvas-marker")){g=d.lineSeries;if(!g.markers.visible)k.call(b,f,g);else k.call(b,f,d)}else k.call(b,f,d)}};a(".wijlinechart",b[0]).live("mousedown."+d,a.proxy(c.mousedown,c)).live("mouseup."+d,a.proxy(c.mouseup,c)).live("mouseover."+d,a.proxy(c.mouseover,c)).live("mouseout."+d,a.proxy(c.mouseout,c)).live("mousemove."+d,a.proxy(c.mousemove,c)).live("click."+d,a.proxy(c.click,c))};a.wijchart._line.prototype.unbindLiveEvents=function(c,b){a(".wijlinechart",c[0]).die(b).die("."+b)};a.fn.extend({wijline:function(b){new a.wijchart._line(this,b)}})})(jQuery);