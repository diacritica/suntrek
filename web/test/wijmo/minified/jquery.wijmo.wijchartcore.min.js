/*
 *
 * Wijmo Library 2.2.0
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the Wijmo Commercial or GNU GPL Version 3 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/license
 *
 *
 **/
(function(a){"use strict";if(!window.Raphael)return;a.wijchart={getDiffAttrs:function(d,b){var c={};a.each(b,function(a){if(typeof d==="undefined")return true;else if(typeof d[a]==="undefined")c[a]=b[a];else if(d[a]!==b[a])c[a]=b[a]});return c},paintShadow:function(b,f,g){if(b.removed||a(b).parent().length===0)return;var c=b.clone(),d=f||1,e=g||"#cccccc";c.insertBefore(b);c.attr({transform:Raphael.format("...T{0},{1}",d,d),stroke:e,"stroke-width":d});c.toBack();c.offset=d;b.shadow=c},getScaling:function(b,d,e,c){var a=d-e;if(a===0)a=1;if(b)a=-a;return c/a},getTranslation:function(d,b,e,f,c){var a=0;if(d){a=b.y;a-=c*e}else{a=b.x;a-=c*f}return a},getXSortedPoints:function(e){var b=e.data.x,f=[].concat(b),g=[].concat(e.data.y),d=[],c=b;if(b===undefined||b.length===0)return;function h(a,b){return a-b}if(typeof b[0]==="number")c=[].concat(b).sort(h);a.each(c,function(c,b){a.each(f,function(e,a){if(b===a){if(typeof a!=="number")a=c;d.push({x:a,y:g[e]});f.splice(e,1);g.splice(e,1);return false}})});return d},sector:function(c,d,b,e,f){var g=a.wijraphael.getPositionByAngle(c,d,b,e),h=a.wijraphael.getPositionByAngle(c,d,b,f);return["M",c,d,"L",g.x,g.y,"A",b,b,0,+(f-e>180),0,h.x,h.y,"z"]},donut:function(e,f,c,b,g,h){var d=a.wijraphael.getPositionByAngle(e,f,c,g),l=a.wijraphael.getPositionByAngle(e,f,c,h),k=a.wijraphael.getPositionByAngle(e,f,b,g),j=a.wijraphael.getPositionByAngle(e,f,b,h),i=h-g>180;return["M",d.x,d.y,"A",c,c,0,+i,0,l.x,l.y,"L",j.x,j.y,"A",b,b,0,+i,1,k.x,k.y,"L",d.x,d.y,"z"]},getFirstValidListValue:function(c){var b;a.each(c,function(c,a){if(a===null)return true;else if(typeof a==="undefined")return true;else if(typeof a==="number"&&isNaN(a))return true;b=a;return false});return b},getLastValidListValue:function(b){var c=[].concat(b).reverse();return a.wijchart.getFirstValidListValue(c)},isHole:function(a,b){return a===null?true:typeof a==="undefined"?true:typeof a==="number"&&isNaN(a)?true:b===null?false:typeof a!=="undefined"?a-b===0?true:false:false}};var b={content:"",contentStyle:{},title:"",titleStyle:{},style:{fill:"white","fill-opacity":.5},closeBehavior:"auto",mouseTrailing:true,triggers:"hover",animated:"fade",showAnimated:null,hideAnimated:null,duration:500,showDuration:500,hideDuration:500,easing:null,showEasing:null,hideEasing:null,showDelay:150,hideDelay:150,relativeTo:"mouse",compass:"east",offsetX:0,offsetY:0,showCallout:true,calloutFilled:false,calloutFilledStyle:{fill:"black"},calloutLength:12,calloutOffset:0,calloutAnimation:{easing:null,duration:500},windowCollisionDetection:true,calloutSide:null,width:null,height:null,beforeShowing:null};Raphael.fn.closeBtn=function(c,d,b){var a=Math.cos(Math.PI/4)*b,f=this.set(),h=["M",c-a,d-a,"L",c+a,d+a,"M",c-a,d+a,"L",c+a,d-a],g=this.path(h.concat(" ")),e=null;g.attr({cursor:"pointer"});f.push(g);e=this.rect(c-b,d-b,b*2,b*2);e.attr({fill:"white","fill-opacity":0,cursor:"pointer",stroke:"none"});f.push(e);return f};Raphael.fn.tooltip=function(p,Y){var c=a.extend(true,{},b,Y),g=this,A=null,P=0,Q=0,f,h,i,e,d,y=null,x=null,n=null,m=5,l=null,u=g.tooltip.animations,t=c.calloutOffset,C=c.width,B=c.height,s=c.calloutLength/2,q=0,j=0,k=0,o,U=function(c,d){var a=c.getBBox(),b={x:0,y:0};switch(d.toLowerCase()){case"east":b.x=a.x+a.width;b.y=a.y+a.height/2;break;case"eastnorth":b.x=a.x+a.width;b.y=a.y;break;case"eastsouth":b.x=a.x+a.width;b.y=a.y+a.height;break;case"west":b.x=a.x;b.y=a.y+a.height/2;break;case"westnorth":b.x=a.x;b.y=a.y;break;case"westsouth":b.x=a.x;b.y=a.y+a.height;break;case"north":b.x=a.x+a.width/2;b.y=a.y;break;case"northeast":b.x=a.x+a.width;b.y=a.y;break;case"northwest":b.x=a.x;b.y=a.y;break;case"south":b.x=a.x+a.width/2;b.y=a.y+a.height;break;case"southeast":b.x=a.x+a.width;b.y=a.y+a.height;break;case"southwest":b.x=a.x;b.y=a.y+a.height}return b},G=function(a){if(a){window.clearTimeout(a);a=null}},z=function(g){if(l){var a,b,j;if(c.hideAnimated||c.animated){a=c.hideAnimated;if(!a)a=c.animated;if(a&&u[a]){j={animated:a,duration:c.hideDuration||c.duration,easing:c.hideEasing||c.easing,context:l,show:false};u[a](j)}}b=c.hideDuration;if(g)b=g;window.setTimeout(function(){var a,b;if(f){f.wijRemove();f=null}if(h){h.wijRemove();h=null}if(i){i.wijRemove();i=null}if(e){for(a=0,b=e.length;a<b;a++)e[a].unclick();e.wijRemove();e=null}if(d){d.wijRemove();d=null}n=null;l=null},b)}},L=function(){y&&G(y);x&&G(x)},v=function(){L();if(c.hideDelay)x=window.setTimeout(function(){z()},c.hideDelay);else z()},D=function(b){var a="";switch(b.toLowerCase()){case"east":a="right-middle";j=2;k=0;break;case"eastnorth":a="right-top";j=2;k=-2;break;case"eastsouth":a="right-bottom";j=2;k=2;break;case"west":a="left-middle";j=-2;k=0;break;case"westnorth":a="left-top";j=-2;k=-2;break;case"westsouth":a="left-bottom";j=-2;k=2;break;case"north":a="top-middle";j=0;k=-2;break;case"northeast":a="top-right";j=2;k=-2;break;case"northwest":a="top-left";j=-2;k=-2;break;case"south":a="bottom-middle";j=0;k=2;break;case"southeast":a="bottom-right";j=2;k=2;break;case"southwest":a="bottom-left";j=-2;k=2}return a},K=function(b,a){var d=[],e=c.compass;if(c.calloutSide)e=c.calloutSide;switch(e.toLowerCase()){case"east":case"eastsouth":case"eastnorth":d=["M",b.x+a,b.y+a,"l",-a,-a,"l",a,-a,"Z"];break;case"west":case"westsouth":case"westnorth":d=["M",b.x-a,b.y-a,"l",a,a,"l",-a,a,"Z"];break;case"north":case"northeast":case"northwest":d=["M",b.x-a,b.y-a,"l",a,a,"l",a,-a,"Z"];break;case"south":case"southeast":case"southwest":d=["M",b.x-a,b.y+a,"l",a,-a,"l",a,a,"Z"]}return d},M=function(e,d){if(a.isFunction(e)){var h=null,f,c={target:null,fmt:e},b;if(d&&d.target){b=d.target;if(!b.raphael||!b.raphaelid)b=b.parentNode;if(b.raphael&&b.raphaelid){f=g.getById(b.raphaelid);c.target=f}else c.target=d.target}h=a.proxy(c.fmt,c);return h().toString()}return e},H=function(a){if(c.calloutSide){var b=s||q;switch(c.calloutSide){case"south":case"north":if(a)d.animate({translation:-C/2+b+t+",0"},a);else d.translate(-C/2+b+t,0);break;case"east":case"west":if(a)d.animate({translation:"0,"+(-B/2+b+t)},a);else d.translate(0,-B/2+b+t)}}},V=/\{([^\}]+)\}/g,S=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,W=function(c,d,b){var a=b;d.replace(S,function(f,b,e,c,d){b=b||c;if(a){if(a[b]!=="string")a=a[b];if(typeof a==="function"&&d)a=a()}});a=(a===null||a===b?c:a).toString();return a},ab=function(b,a){return String(b).replace(V,function(b,c){return W(b,c,a)})},N=function(i,u,s,t,h){var o=u.split("-"),e=5,p=s.getBBox(),d=Math.round(p.width),b=Math.round(p.height),j=Math.round(p.x)-e,k=Math.round(p.y)-e,a=0,f=0,m=0,n=0,q=null,l=null,r=null;if(c.width)d=d>c.width?d:c.width;if(c.height)b=b>c.height?b:c.height;C=d;B=b;a=Math.min(b/4,d/4,t);if(h)h=Math.min(b/4,d/4,h);if(h){f=h;q={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{offset},0,-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{offset},0,{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom},0-{offset},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},0,{offset},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"}}else q={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{gap},{gap}-{gap}-{gap}-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{gap}-{gap},{gap},{gap},{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom}-{gap}-{gap},{gap}-{gap},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},{gap},{gap}-{gap},{gap},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"};l=([{x:j+e,y:k,w:d,w4:d/4,h4:b/4,left:0,right:d-a*2-f*2,top:0,bottom:b-a*2-f*2,r:e,h:b,gap:a,offset:f*2},{x:j+e,y:k,w:d,w4:d/4,h4:b/4,left:d/2-a-f,right:d/2-a-f,top:b/2-a-f,bottom:b/2-a-f,r:e,h:b,gap:a,offset:f*2},{x:j+e,y:k,w:d,w4:d/4,h4:b/4,right:0,left:d-a*2-f*2,bottom:0,top:b-a*2-f*2,r:e,h:b,gap:a,offset:f*2}])[o[1]==="middle"?1:(o[1]==="left"||o[1]==="top")*2];r=g.path(ab(q[o[0]],l));switch(o[0]){case"top":m=i.x-(j+e+l.left+a+h);n=i.y-(k+e+b+e+a+h);break;case"bottom":m=i.x-(j+e+l.left+a+h);n=i.y-(k-a-h);break;case"left":m=i.x-(j+e+d+e+a+h);n=i.y-(k+e+l.top+a+h);break;case"right":m=i.x-(j-a-f);n=i.y-(k+e+l.top+a+f)}r.translate(m,n);s.translate(m,n);return r},F=function(n,o,d,e,p,q){var c=n.getBBox(),f=0,b=o,h=c.x+p,i=c.y+q,m=g.width,l=g.height,j=d,k=e;if(g.raphael.vml){m=a(g.canvas).width();l=a(g.canvas).height()}if(h+d<0)if(b.toLowerCase().indexOf("west")===-1){if(h+c.width/2+c.width-d<=m){f++;b=b.toLowerCase()+"east";j=0-d}}else if(h+c.width+c.width-d<=m){f++;b=b.toLowerCase().replace("west","east");j=0-d}if(i+e<0)if(b.toLowerCase().indexOf("north")===-1){if(i+c.height/2+c.height-e<=l){f++;b=b.toLowerCase()+"south";k=0-e}}else if(i+c.height+c.height-e<=l){f++;b=b.toLowerCase().replace("north","south");k=0-e}if(h+c.width+d>m)if(b.toLowerCase().indexOf("east")===-1){if(h-c.width/2-d>=0){f++;b=b.toLowerCase()+"west";j=0-d}}else if(h-c.width-d>=0){f++;b=b.toLowerCase().replace("east","west");j=0-d}if(i+c.height+e>l)if(b.toLowerCase().indexOf("south")===-1){if(i-c.height/2-e>=0){f++;b=b.toLowerCase()+"north";k=0-e}}else if(i-c.height-e>=0){f++;b=b.toLowerCase().replace("south","north");k=0-e}return f?{compass:b,offsetX:j,offsetY:k}:false},w=function(E,A,z,M,I,J,L){var x,t,B,p=g.set(),C=null,r=null,P=null,Q=0,R=0,S=250,G=0,O=0,b,o={x:E.x,y:E.y},y=null;a.wijraphael.clearRaphaelCache();B=D(I);o.x+=J+j;o.y+=L+k;l=g.set();if(h){a.each(h,function(c,b){a(b.node).unbind(".Rtooltip")});h.wijRemove()}if(A&&A.length>0){h=g.htmlText(-1e3,-1e3,A,c.titleStyle);l.push(h);x=h.getBBox()}else x={left:-1e3,top:-1e3,width:0,height:0};if(f){a.each(f,function(c,b){a(b.node).unbind(".Rtooltip")});f.wijRemove()}if(z&&z.length>0){f=g.htmlText(-1e3,-1e3,z,c.contentStyle);l.push(f);t=f.getBBox()}else t={left:-1e3,top:-1e3,width:0,height:0};if(e){for(G=0,O=e.length;G<O;G++)e[G].unclick();e.wijRemove()}f&&f.transform(Raphael.format("T0,{0}",x.height/2+t.height/2));h&&h.transform(Raphael.format("T0,{0}",0));if(c.closeBehavior==="sticky"){e=g.closeBtn(-1e3,-1e3,m);l.push(e);if(c.width&&c.width>x.width+m*2&&c.width>t.width+m*2)e.transform(Raphael.format("T{0},{1}",c.width-m,m));else if(x.width>=t.width-m*2)e.transform(Raphael.format("T{0},{1}",x.width+m,m));else e.transform(Raphael.format("T{0},{1}",t.width-m,m));a.each(e,function(){this.click(function(a){v(a)})})}if(h){p.push(h);c.relatedElement&&h.insertBefore(c.relatedElement)}if(f){p.push(f);c.relatedElement&&f.insertBefore(c.relatedElement)}if(e){p.push(e);c.relatedElement&&e.insertBefore(c.relatedElement)}if(!c.showCallout)s=0;if(c.calloutSide||c.calloutFilled){s=0;q=c.calloutLength/2;if(c.calloutSide)B=D(c.calloutSide)}if(c.calloutSide&&p.length===0){f=g.htmlText(-1e3,-1e3," ");p.push(f);c.relatedElement&&f.insertBefore(c.relatedElement)}if(d){a(d.node).unbind(".Rtooltip");d.wijRemove()}if(i){a(i.node).unbind(".Rtooltip");i.wijRemove()}if(n){if(c.showCallout&&(c.calloutSide||c.calloutFilled)){C=K(n,q);d=g.path(C.concat(" "));c.relatedElement&&d.insertBefore(c.relatedElement);c.calloutFilled&&d.attr(c.calloutFilledStyle);c.calloutSide&&H(0)}i=N(n,B,p,s,q);c.relatedElement&&i.insertBefore(c.relatedElement);if(M){b=F(i,I,J,L,o.x-n.x,o.y-n.y);if(b){w(E,A,z,false,b.compass,b.offsetX,b.offsetY);return}}l.push(d);l.push(i);Q=o.x-n.x;R=o.y-n.y;y=Raphael.animation({transform:Raphael.format("...T{0},{1}",Q,R)},S);i&&i.animate(y);h&&h.animate(y);f&&f.animate(y);e&&e.animate(y);d&&d.animate(y)}else{if(c.showCallout&&(c.calloutSide||c.calloutFilled)){C=K(o,q);d=g.path(C.concat(" "));c.relatedElement&&d.insertBefore(c.relatedElement);c.calloutFilled&&d.attr(c.calloutFilledStyle);c.calloutSide&&H(0)}i=N(o,B,p,s,q);c.relatedElement&&i.insertBefore(c.relatedElement);if(M){b=F(i,I,J,L,0,0);if(b){w(E,A,z,false,b.compass,b.offsetX,b.offsetY);return}}l.push(d);l.push(i);if(c.showAnimated||c.animated){r=c.showAnimated;if(!r)r=c.animated;if(r&&u[r]){P={animated:r,duration:c.showDuration||c.duration,easing:c.showEasing||c.easing,context:l,show:true};u[r](P)}}}n=o;i.attr(c.style);if(c.relatedElement){h&&h.insertBefore(c.relatedElement);f&&f.insertBefore(c.relatedElement);e&&e.insertBefore(c.relatedElement)}else p.toFront()},J=function(k,d){var h=null,e=null,j=null,f=null,i,b;if(a.isFunction(c.beforeShowing)){j=null;f={target:null,options:c,fmt:c.beforeShowing};if(d&&d.target){b=d.target;if(!b.raphael||!b.raphaelid)b=b.parentNode;if(b.raphael&&b.raphaelid){i=g.getById(b.raphaelid);f.target=i}else{i=d.target;f.target=i}}j=a.proxy(f.fmt,f);j()}h=c.title;e=c.content;h=M(h,d);e=M(e,d);if(!h&&!e)return;w(k,h,e,c.windowCollisionDetection,c.compass,c.offsetX,c.offsetY)},R=function(a,b){L();if(c.showDelay)y=window.setTimeout(function(){J(a,b)},c.showDelay);else J(a,b)},r=function(e){A=a(g.canvas.parentNode).offset();P=A.left;Q=A.top;var h=c.relativeTo,d={x:0,y:0},f=null,b=e.target;switch(h){case"mouse":d.x=e.pageX-P;d.y=e.pageY-Q;break;case"element":if(!b.raphael||!b.raphaelid)b=b.parentNode;if(b.raphael&&b.raphaelid){f=g.getById(b.raphaelid);d=U(f,c.compass)}}R(d,e)},O=function(b){switch(c.triggers){case"hover":a(b.node).bind("mouseover.Rtooltip",function(a){r(a)}).bind("mouseout.Rtooltip",function(a){c.closeBehavior==="auto"&&v(a)});c.mouseTrailing&&c.relativeTo==="mouse"&&a(b.node).bind("mousemove.Rtooltip",function(a){r(a)});break;case"click":a(b.node).bind("click.Rtooltip",function(a){r(a)})}},I=function(a){var b,c;if(a)if(a.length)for(b=0,c=a.length;b<c;b++)O(a[b]);else O(a)},E=function(){if(o)switch(c.triggers){case"hover":o.live("mouseover.Rtooltip",function(a){r(a)}).live("mouseout.Rtooltip",function(a){c.closeBehavior==="auto"&&v(a)});c.mouseTrailing&&c.relativeTo==="mouse"&&o.live("mousemove.Rtooltip",function(a){r(a)});break;case"click":o.live("click.Rtooltip",function(a){r(a)})}},T=function(){var b,c;if(p)if(p.length)for(b=0,c=p.length;b<c;b++)a(p[b].node).unbind(".Rtooltip");else a(p.node).unbind(".Rtooltip");o&&o.die("Rtooltip").die(".Rtooltip")},X=function(){T();z(0)},Z=function(){this.hide=function(){v()};this.showAt=function(a){R(a)};this.resetCalloutOffset=function(e){var f=c.calloutOffset,a=c.calloutSide,b=c.calloutAnimation;if(d)if(a==="south"||a==="north")d.animate({translation:e-f+",0"},b.duration,b.easing);else(a==="east"||a==="west")&&d.animate({translation:"0,"+(e-f)},b.duration,b.easing);c.calloutOffset=e};this.destroy=function(){X()};this.getOptions=function(){return c};this.setTargets=function(a){I(a)};this.setSelector=function(a){o=a;E()};this.setOptions=function(b){c=a.extend(true,c,b)}};p&&I(p);o&&E(o);return new Z};Raphael.fn.tooltip.animations={fade:function(a){var b=a.context;if(a.show){b.attr({opacity:0});b.animate({opacity:1},a.duration,a.easing)}else b.animate({opacity:0},a.duration,a.easing)}}})(jQuery);(function(a){"use strict";a.widget("wijmo.wijchartcore",{options:{width:null,height:null,culture:"",seriesList:[],seriesStyles:[{stroke:"#00cc00",opacity:.9,"stroke-width":1},{stroke:"#0099cc",opacity:.9,"stroke-width":1},{stroke:"#0055cc",opacity:.9,"stroke-width":1},{stroke:"#2200cc",opacity:.9,"stroke-width":1},{stroke:"#8800cc",opacity:.9,"stroke-width":1},{stroke:"#d9007e",opacity:.9,"stroke-width":1},{stroke:"#ff0000",opacity:.9,"stroke-width":1},{stroke:"#ff6600",opacity:.9,"stroke-width":1},{stroke:"#ff9900",opacity:.9,"stroke-width":1},{stroke:"#ffcc00",opacity:.9,"stroke-width":1},{stroke:"#ffff00",opacity:.9,"stroke-width":1},{stroke:"#ace600",opacity:.9,"stroke-width":1}],seriesHoverStyles:[{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5}],marginTop:25,marginRight:25,marginBottom:25,marginLeft:25,textStyle:{fill:"#888","font-size":10,stroke:"none"},header:{text:"",style:{fill:"none",stroke:"none"},textStyle:{"font-size":18,fill:"#666",stroke:"none"},compass:"north",orientation:"horizontal",visible:true},footer:{text:"",style:{fill:"#fff",stroke:"none"},textStyle:{fill:"#000",stroke:"none"},compass:"south",orientation:"horizontal",visible:false},legend:{text:"",textMargin:{left:2,top:2,right:2,bottom:2},style:{fill:"none",stroke:"none"},textWidth:null,textStyle:{fill:"#333",stroke:"none"},titleStyle:{"font-weight":"bold",fill:"#000",stroke:"none"},compass:"east",orientation:"vertical",visible:true},axis:{x:{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:true,textVisible:true,text:"",textStyle:{fill:"#888","font-size":15,"font-weight":"bold"},labels:{style:{fill:"#333","font-size":11},textAlign:"near",width:null},compass:"south",autoMin:true,autoMax:true,min:null,max:null,origin:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]},y:{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:false,textVisible:true,text:"",textStyle:{fill:"#888","font-size":15,"font-weight":"bold"},labels:{style:{fill:"#333","font-size":11},textAlign:"center",width:null},compass:"west",autoMin:true,autoMax:true,min:null,max:null,origin:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:true,style:{stroke:"#999999","stroke-width":.5,"stroke-dasharray":"none"}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]}},hint:{enable:true,content:null,contentStyle:{fill:"#d1d1d1","font-size":16},title:null,titleStyle:{fill:"#d1d1d1","font-size":16},style:{fill:"#000000","stroke-width":2},animated:"fade",showAnimated:"fade",hideAnimated:"fade",duration:120,showDuration:120,hideDuration:120,easing:"",showEasing:"",hideEasing:"",showDelay:0,hideDelay:150,compass:"north",offsetX:0,offsetY:0,showCallout:true,calloutFilled:false,calloutFilledStyle:{fill:"#000"}},showChartLabels:true,chartLabelStyle:{},chartLabelFormatString:"",disableDefaultTextStyle:false,shadow:true,dataSource:null,data:null,beforeSeriesChange:null,seriesChanged:null,beforePaint:null,painted:null},innerState:{},_setOption:function(d,f){var c=this,b=c.options,o=null,n=0,g=0,j=b.axis.x.tickMajor.factor,k=b.axis.x.tickMinor.factor,l,m,e,i,h;if(d==="dataSource"){c.seriesTransition=true;b.dataSource=f;if(c.seriesList)b.seriesList=a.arrayClone(c.seriesList);c._init()}if(d==="seriesList"){if(!f)f=[];o=a.Event("beforeserieschange");if(c._trigger("beforeSeriesChange",o,{oldSeriesList:b.seriesList,newSeriesList:f})===false)return false;b.seriesList=f;c.seriesList=a.arrayClone(f);c._trigger("seriesChanged",null,f);c.seriesTransition=true;c._init()}else if(a.isPlainObject(b[d])){if(d==="axis")if(a.isArray(b.axis.y))e=a.arrayClone(b.axis.y);else e=a.extend(true,{},b.axis.y);a.extend(true,b[d],f);if(d==="axis"){i=b.axis.y;if(b.axis.x.tickMajor.factor<0)b.axis.x.tickMajor.factor=j;if(b.axis.x.tickMinor.factor<0)b.axis.x.tickMinor.factor=k;if(!a.isArray(i)){if(a.isArray(e)){l=e[0].tickMajor.factor;m=e[0].tickMinor.factor}else{j=e.tickMajor.factor;k=e.tickMinor.factor}if(b.axis.y.tickMajor.factor<0)b.axis.y.tickMajor.factor=l;if(b.axis.y.tickMinor.factor<0)b.axis.y.tickMinor.factor=m}else{if(!a.isArray(e))e=[e];a.each(i,function(c,a){var b=e[c]||{};if(b.tickMajor&&a.tickMajor.factor)if(a.tickMajor.factor<0)a.tickMajor.factor=b.tickMajor.factor;if(b.tickMinor&&b.tickMinor.factor)if(a.tickMinor.factor<0)a.tickMinor.factor=b.tickMinor.factor})}}}else a.Widget.prototype._setOption.apply(c,arguments);d==="disabled"&&c._handleDisabledOption(f,c.chartElement);if(d==="seriesTransition"||d==="animation")return;n=b.seriesList.length;if(d==="seriesList"||d==="seriesStyles"||d==="seriesHoverStyles"){c.styles={style:[].concat(b.seriesStyles.slice(0,b.seriesStyles.length)),hoverStyles:[].concat(b.seriesHoverStyles.slice(0,b.seriesHoverStyles.length))};c._initStyles()}if(d==="seriesList"||d==="seriesHoverStyles"){h=b.seriesHoverStyles.length;for(g=h;g<n;g++)b.seriesHoverStyles[g]=b.seriesHoverStyles[g%h]}c.redraw()},_initStyles:function(){var b=this.options,g=b.seriesStyles,f=b.seriesHoverStyles,e,d,c,a;if(b.seriesList)d=b.seriesList.length||0;if(b.seriesStyles)e=b.seriesStyles.length||0;if(b.seriesHoverStyles)c=b.seriesHoverStyles.length||0;if(d>e&&e)for(a=e;a<d;a++)g[a]=g[a%e];if(d>c&&c)for(a=c;a<d;a++)f[a]=f[a%c]},_create:function(){var b=this,c=b.options,g=c.width||b.element.width(),f=c.height||b.element.height(),e=null,d;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);b.updating=0;b.innerState={};b.element.is(":hidden")&&b.element.wijAddVisibilityObserver&&b.element.wijAddVisibilityObserver(function(){b.redraw();b.element.wijRemoveVisibilityObserver&&b.element.wijRemoveVisibilityObserver()},"wijchart");a.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(c);b.styles={style:[].concat(c.seriesStyles.slice(0,c.seriesStyles.length)),hoverStyles:[].concat(c.seriesHoverStyles.slice(0,c.seriesHoverStyles.length))};b._initStyles();if(c.hint&&typeof c.hint.content==="string"&&window[c.hint.content])c.hint.content=window[c.hint.content];if(c.hint&&typeof c.hint.title==="string"&&window[c.hint.title])c.hint.title=window[c.hint.title];b.headerEles=[];b.footerEles=[];b.legendEles=[];b.axisEles=[];b.legends=[];b.legendIcons=[];b.legendDots=[];b.chartLabelEles=[];b.seriesEles=[];if(b.element.length>0){if(b.element.is("table")){b._parseTable();e=a("<div></div>");g&&e.css("width",g);f&&e.css("height",f);b.element.after(e);b.chartElement=e}else b.chartElement=b.element;b.chartElement.addClass("ui-widget");d=new Raphael(b.chartElement[0],g,f);b.canvas=d;c.disabled&&b.disable();d.customAttributes.rotation=function(a){this.transform("...R"+a)};d.customAttributes.scale=function(a){this.transform("...S"+a)};d.customAttributes.translation=function(a,b){this.transform(Raphael.format("...T{0},{1}",a,b))};b._bindLiveEvents()}},_getDefFill:function(){return["#00cc00","#0099cc","#0055cc","#2200cc","#8800cc","#d9007e","#ff0000","#ff6600","#ff9900","#ffcc00","#ffff00","#ace600"]},_getCulture:function(a){return Globalize.findClosestCulture(a||this.options.culture)},_handleDisabledOption:function(b,c){var a=this;if(b){if(!a.disabledDiv)a.disabledDiv=a._createDisabledDiv(c);a.disabledDiv.appendTo("body")}else if(a.disabledDiv){a.disabledDiv.remove();a.disabledDiv=null}},_createDisabledDiv:function(h){var d=this,e=d.options,b=h||d.element,c=b.offset(),g=e.width||b.outerWidth(),f=e.height||b.outerHeight();return a("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:g,height:f,left:c.left,top:c.top})},_bindData:function(){var b=this,e=b.options,f=e.dataSource,g=e.seriesList,c=e.data,d;a.each(g,function(k,j){var a=j.data,h,i,g,e=j.dataSource||f;if(e&&a){h=a.x;i=a.y;g=a.y1;if(h&&h.bind)a.x=b._getBindData(e,h.bind);else if(c&&c.x&&c.x.bind){if(d===undefined)d=b._getBindData(e,c.x.bind);a.x=d}if(i&&i.bind)a.y=b._getBindData(e,i.bind);if(g&&g.bind)a.y1=b._getBindData(e,g.bind)}})},_getBindData:function(b,c){if(a.isArray(b)){var d=[];a.each(b,function(b,a){a&&a[c]!==undefined&&d.push(a[c])});return d}return null},_hanldSharedXData:function(){var e=this,c=e.options,d=c.seriesList,b=c.data;b&&a.each(d,function(e,d){var c=d.data;if(c.x===undefined||c.x===null&&a.isArray(b.x))c.x=b.x})},_init:function(){var b=this,c=b.options;if(!b.rendered)b.seriesList=a.arrayClone(c.seriesList);b._bindData();b._hanldSharedXData();a.each(c.seriesList,function(f,b){var d=b.data,e;if(typeof d==="undefined"||d===null){e=a.inArray(b,c.seriesList);c.seriesList.splice(e,1)}});!b.rendered&&b._paint();a.Widget.prototype._init.apply(b,arguments)},destroy:function(){var b=this;b._unbindLiveEvents();b._clearChartElement();b.chartElement.removeClass("ui-widget");a(".wijchart-canvas-object",b.chartElement[0]).die(b.widgetName).die("."+b.widgetName);b.element!==b.chartElement&&b.chartElement.remove();b.element.empty();if(b.styles)b.styles=null;if(b.disabledDiv){b.disabledDiv.remove();b.disabledDiv=null}a.Widget.prototype.destroy.apply(b,arguments)},getCanvas:function(){return this.canvas},addSeriesPoint:function(c,e,f){var b=this.options.seriesList,d=null,a=null;if(c>=b.length)return;d=b[c];a=d.data||[];a.x.push(e.x);a.y.push(e.y);if(f){a.x.shift();a.y.shift()}this._setOption("seriesList",b)},beginUpdate:function(){var a=this;a.updating++},endUpdate:function(){var a=this;a.updating--;a.redraw()},redraw:function(e){var a=this,d=a.options,c=0,b=0;if(a.updating>0)return;if(e&&a.rendered)return;c=d.width||a.element.width();b=d.height||a.element.height();if(c<1||b<1)return;a.canvas.setSize(c,b);a._paint()},_parseTable:function(){if(!this.element.is("table"))return;var d=this,e=d.element,b=d.options,c=a("caption",e),g=a("thead th",e),f=[],h=a("tbody tr",e);if(c.length){b.header=a.extend({visible:true,text:a.trim(a(c[0]).text())},b.header);if(c.length>1)b.footer=a.extend({visibel:true,text:a.trim(a(c[1]).text())},b.footer)}b.legend=a.extend({visible:true},b.legend);d._getSeriesFromTR(g,h,f);d.options.seriesList=f},_getSeriesFromTR:function(b,e,g){var c=[],f=null,d=null;b.length&&b.each(function(){f=a.trim(a(this).text());c.push(f)});e.length&&e.each(function(){var h=a("th",a(this)),f=a.trim(h.text()),b=[],e=a("td",a(this));e.length&&e.each(function(){var c=a(this);b.push(parseFloat(a.trim(c.text())))});d={label:f,legendEntry:true,data:{x:c,y:b}};g.push(d)})},_destroyRaphaelArray:function(c){if(!c)return;for(var f=c.length,e=0,b,d;f&&e<f;e++){b=c[e];if(b&&b[0]){d=a(b.node);d.unbind().removeData();b.wijRemove();d.remove();d=null}c[e]=null}},_clearChartElement:function(){var b=this,c=b.chartElement.data("fields");b._destroyRaphaelArray(b.headerEles);b._destroyRaphaelArray(b.footerEles);b._destroyRaphaelArray(b.legendEles);b._destroyRaphaelArray(b.legends);b._destroyRaphaelArray(b.legendIcons);b._destroyRaphaelArray(b.legendDots);b._destroyRaphaelArray(b.axisEles);b._destroyRaphaelArray(b.chartLabelEles);if(b.tooltip){b.tooltip.destroy();b.tooltip=null}if(c&&c.trackers){b._destroyRaphaelArray(c.trackers);c.trackers=null}b.headerEles=[];b.footerEles=[];b.legendEles=[];b.legends=[];b.legendIcons=[];b.legendDots=[];b.axisEles=[];b.chartLabelEles=[];if(c&&c.chartElements){a.each(c.chartElements,function(c,a){b._destroyRaphaelArray(a)});c.chartElements=null}if(c&&c.seriesEles)c.seriesEles=null;if(b.seriesEles)b.seriesEles=[];b.canvas.clear();b.innerState=null;b.axisInfo=null;b.seriesGroup=null;b.lastAxisOffset=null;b.innerState={}},_text:function(c,d,b){var a=this.canvas.text(c,d,b);if(this.options.disableDefaultTextStyle)a.node.style.cssText="";return a},_paint:function(){var b=this,c=b.options,a=b.element,f=a.css("display")==="none"||a.css("visibility")==="hidden",e={},d=null;if(f){e=a.css("left");d=a.css("position");a.css("left","-10000px");a.css("position","absolute");a.show()}if(a.is(":hidden")){if(f){a.css("left",e);a.css("position",d);a.hide()}return}b._clearChartElement();if(b._trigger("beforePaint")===false)return;b.canvasBounds={startX:0,endX:c.width||a.width(),startY:0,endY:c.height||a.height()};b._paintHeader();b._paintFooter();b._paintLegend();b._paintChartArea();b._paintTooltip();b._trigger("painted");b.rendered=true;if(b.styles){c.seriesStyles=b.styles.style;c.seriesHoverStyles=b.styles.hoverStyles}if(f){a.css("left",e);a.css("position",d);a.hide()}},_calculatePosition:function(g,f,e){var b={x:0,y:0},c=5,d=5,a=this.canvasBounds;switch(g){case"north":b.x=(a.endX-a.startX)/2;b.y=a.startY+e/2+d;a.startY=a.startY+d*2+e;break;case"south":b.x=(a.endX-a.startX)/2;b.y=a.endY-e/2-d;a.endY=a.endY-d*2-e;break;case"east":b.x=a.endX-f/2-c;b.y=(a.endY-a.startY)/2;a.endX=a.endX-c*2-f;break;case"west":b.x=a.startX+f/2+c;b.y=(a.endY-a.startY)/2;a.startX=a.startX+c*2+f}return b},_paintHeader:function(){var g=2,d=this,m=d.options,c=m.header,h=null,b=null,k=null,j=null,i=null,f=null,l=0,e=null;if(c.text&&c.text.length>0&&c.visible){h=c.compass;b=d._text(0,0,c.text);a.wijraphael.addClass(a(b.node),"wijchart-header-text");l=d._getRotationByCompass(h);k=a.extend(true,{},m.textStyle,c.textStyle);b.attr(k);b.transform("...R"+l);j=b.wijGetBBox();i=d._calculatePosition(h,j.width,j.height);b.transform(Raphael.format("...T{0},{1}",i.x,i.y));f=b.wijGetBBox();e=d.canvas.rect(f.x-g,f.y-g,f.width+2*g,f.height+2*g);a.wijraphael.addClass(a(e.node),"wijchart-header-container");e.attr(c.style);e.toBack();d.headerEles.push(b);d.headerEles.push(e)}},_paintFooter:function(){var g=2,d=this,m=d.options,c=m.footer,h=null,b=null,k=null,j=null,i=null,f=null,l=0,e=null;if(c.text&&c.text.length>0&&c.visible){h=c.compass;b=d._text(0,0,c.text);a.wijraphael.addClass(a(b.node),"wijchart-footer-text");l=d._getRotationByCompass(h);k=a.extend(true,{},m.textStyle,c.textStyle);b.attr(k);b.transform("...R"+l);j=b.wijGetBBox();i=d._calculatePosition(h,j.width,j.height);b.transform(Raphael.format("...T{0},{1}",i.x,i.y));f=b.wijGetBBox();e=d.canvas.rect(f.x-g,f.y-g,f.width+2*g,f.height+2*g);a.wijraphael.addClass(a(e.node),"wijchart-footer-container");e.attr(c.style);e.toBack();d.footerEles.push(b);d.footerEles.push(e)}},_getRotationByCompass:function(b){var a=0;if(b==="east")a=90;else if(b==="west")a=-90;return a},_paintLegend:function(){if(!this.options.legend.visible)return;var b=this,t=b.options,c=a.extend(true,{size:{width:22,height:10}},t.legend),g=2,L=t.seriesStyles,u=[].concat(t.seriesList),r=c.compass,y=c.orientation,i,J,f,e,v=b.canvasBounds,x=v.endX-v.startX,w=v.endY-v.startY,h=c.size.width,I=c.size.height,E,l=0,D=0,m=0,j=0,q=0,p=0,d=1,K=0,k=0,z=0,F=0,n=0,G,A,B,o,H=[],s=0,C=0;if(c.text&&c.text.length){i=b._text(0,0,c.text);a.wijraphael.addClass(a(i.node),"wijchart-legend-title");J=a.extend(true,{},t.textStyle,c.textStyle,c.titleStyle);i.attr(J);b.legendEles.push(i)}if(c.reversed)u=u.reverse();a.each(u,function(f,d){d=a.extend(true,{legendEntry:true,display:"show"},d);function e(e){var n=c.reversed?u.length-1-s:s,l=L[n],m=a.extend(true,{fill:"none",opacity:1,stroke:"black"},l),d,j,k,g=false,f=e.type,i;if(e.legendEntry&&e.display!=="exclude"){j=a.extend(true,{},t.textStyle,c.textStyle);if(c.textWidth)d=b.canvas.wrapText(0,0,e.label,c.textWidth,"far",j);else{d=b._text(0,0,e.label);d.attr(j)}a.wijraphael.addClass(a(d.node),"wijchart-legend-text wijchart-legend");b.legends.push(d);k=a.extend(m,{"stroke-width":1});i=b.canvas.rect(0,0,h,I);a.wijraphael.addClass(a(i.node),"wijchart-legend-icon wijchart-legend");i.attr(k);b.legendIcons.push(i);H.push(k);if(b.widgetName==="wijcompositechart")g=f==="line"||f==="spline"||f==="bezier"||f==="area";else g=b.widgetName==="wijlinechart";if(c.textWidth)a.each(d,function(c,b){if(e.visible===false&&!g){a(b.node).data("hidden",true).data("textOpacity",b.attr("opacity")||1);b.attr("opacity",.3)}a.wijraphael.addClass(a(b.node),"wijchart-legend-text wijchart-legend");a(b.node).data("legendIndex",C).data("index",s)});else{if(e.visible===false&&!g){a(d.node).data("hidden",true).data("textOpacity",d.attr("opacity")||1);d.attr("opacity",.3)}a.wijraphael.addClass(a(d.node),"wijchart-legend-text wijchart-legend");a(d.node).data("legendIndex",C).data("index",s)}C++}s++}if(d.type==="pie"&&d.legendEntry)a.each(d.data,function(c,b){b=a.extend({legendEntry:d.legendEntry},b);e(b)});else if(b._isPieChart())e(d);else{if(d.data.x===undefined&&d.data.xy===undefined||d.data.xy===undefined&&d.data.y===undefined)return true;e(d)}});f=b.legends.length;e=c.textMargin;if(i){E=i.wijGetBBox();l=E.height;D=E.width}a.each(b.legends,function(c,b){var a=b.wijGetBBox();if(a.width>m)m=a.width;if(a.height>j)j=a.height});if(r==="east"||r==="west"){if(y==="horizontal"){q=f*(m+h+g)+f*(e.left+e.right);if(q>x/2){d=Math.floor(x/2/m);if(d<1)d=1}else d=f}else if(y==="vertical"){p=j*f+l+f*(e.top+e.bottom);if(p>w)d=Math.ceil(p/w);else d=1}}else if(r==="south"||r==="north")if(y==="horizontal"){q=(m+h+g)*f+f*(e.left+e.right);if(q>x){d=Math.floor(f/q*x);if(d<1)d=1}else d=f}else if(y==="vertical"){p=j*f+l+f*(e.top+e.bottom);if(p>w/2){K=Math.floor(w-l)/2/j;d=Math.ceil(f/K)}else d=1}if(d===0)d=1;k=d*(m+h+g)+d*(e.left+e.right);z=j*Math.ceil(f/d)+l+Math.ceil(f/d)*(e.top+e.bottom);k=k>D?k:D;G=b._calculatePosition(r,k,z);A=G.x-k/2;B=G.y-z/2;o=b.canvas.rect(A-g,B-g,k+2*g,z+2*g);a.wijraphael.addClass(a(o.node),"wijchart-legend-container");o.attr(c.style);o.toBack();b.legendEles.push(o);i&&i.transform(Raphael.format("...T{0},{1}",A+k/2,B+l/2));F=l;a.each(b.legends,function(s,l){var i=l.wijGetBBox(),f=b.legendIcons[s],p=A+n*(h+m+g)+(n+1)*e.left+n*e.right,q=B+F+i.height/2+e.top+j/2-i.height/2,t=q-f.wijGetBBox().height/2,r,o,k=l;f.wijRemove();f=null;f=b.canvas.rect(p,t,h,I);if(c.textWidth)k=l[0];a(f.node).data("legendIndex",a(k.node).data("legendIndex")).data("index",a(k.node).data("index"));a.wijraphael.addClass(a(f.node),"wijchart-legend-icon wijchart-legend");b.legendIcons[s]=f;r=H[s];if(r){f.attr(r);if(a(k.node).data("hidden")===true){a(k.node).data("iconOpacity",f.attr("opacity")||1);f.attr("opacity",.3)}}if(c.textStyle["text-anchor"]==="start")p-=i.width/2;if(c.textWidth)l.transform(Raphael.format("...T{0},{1}",p+h+g,q-i.height/2));else l.transform(Raphael.format("...T{0},{1}",p+h+g+i.width/2,q));if(Raphael.vml){o=b.canvas.rect(p+h+g,q-i.height/2,i.width,i.height).attr({stroke:"none",fill:"#000000",opacity:.01});a.wijraphael.addClass(a(o.node),"wijchart-legend-textCover wijchart-legend");a(o.node).data("legendIndex",a(k.node).data("legendIndex"));a(o.node).data("index",a(k.node).data("index"));b.legendEles.push(o)}l.toFront();n++;if(n===d){n=0;F+=j+e.top+e.bottom}})},_hasAxes:function(){return this.widgetName==="wijpiechart"?false:true},_applyAxisText:function(i){var j=this,h=i.text,c=null,d=null,b=null,f=0,e=0,g=j.canvasBounds;if(h!==null&&h!==undefined&&h.length>0){d=j._text(-100,-100,h);b=a.extend(true,{},j.options.textStyle,i.textStyle);d.attr(b);c=d.wijGetBBox();if(b["margin-left"])e+=parseFloat(b["margin-left"]);if(b["margin-top"])f+=parseFloat(b["margin-top"]);if(b["margin-right"])e+=parseFloat(b["margin-right"]);if(b["margin-bottom"])f+=parseFloat(b["margin-bottom"]);switch(i.compass){case"north":g.startY+=c.height+f;break;case"south":g.endY-=c.height+f;break;case"east":g.endX-=c.height+e;break;case"west":g.startX+=c.height+e}d.wijRemove();d=null}return c},_isSeriesDataEmpty:function(){var c=this,b=c.options.seriesList;if(!b||b.length===0)return true;a.each(b,function(b,a){if(!a.data||(!a.data.x||!a.data.y)&&!a.data.xy)return true});return false},_paintTooltip:function(){var b=this,h=b.options,d=h.hint,i=!h.disabled&&d.enable,c=d,f,e,g=a.isFunction;if(i&&!b.tooltip){c=a.extend(true,{},d,{});f=d.title;e=d.content;if(g(f))c.title=function(){return b._getTooltipText(f,this.target)};if(g(e))c.content=function(){return b._getTooltipText(e,this.target)};c.beforeShowing=function(){b._onBeforeTooltipShowing(this)};b.tooltip=b.canvas.tooltip(null,c)}},_getTooltipText:function(d,c){var b=a(c.node).data("wijchartDataObj"),e={data:b,label:b.label,x:b.x,y:b.y,target:c,fmt:d};return a.proxy(d,e)()},_onBeforeTooltipShowing:function(b){var a=b.target,c=this.options.hint.style;if(a)b.options.style.stroke=c.stroke||a.attrs.stroke||a.attrs.fill},_paintChartArea:function(){var b=this,p=b.options,c=p.axis,l=2,n=null,k=null,h={},m=5,f=0,g=0,j=a.isArray(c.y),o=0,i,d,e;b._applyMargins();b.isMultiYAxis=j;if(b._isSeriesDataEmpty())return;j&&a.each(c.y,function(d,b){c.y[d]=a.extend(true,{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:false,textVisible:true,text:"",textStyle:{fill:"#888","font-size":15,"font-weight":"bold"},labels:{style:{fill:"#333","font-size":11},textAlign:"center",width:null},compass:"west",autoMin:true,autoMax:true,min:null,max:null,origin:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:true,style:{stroke:"#999999","stroke-width":"0.5","stroke-dasharray":"none"}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]},b)});if(b._hasAxes()){if(b.innerState.axisInfo){b.axisInfo=b.innerState.axisInfo;b.canvasBounds=b.innerState.canvasBounds}else{n=b._applyAxisText(c.x,{});b.axisInfo={x:{id:"x",tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:n,axisTextOffset:l,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true,annoMethod:c.x.annoMethod,valueLabels:c.x.valueLabels||[]},y:{}};if(j)a.each(c.y,function(c,a){k=b._applyAxisText(a,{});b.axisInfo.y[c.toString()]={id:"y"+c,tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:k,axisTextOffset:l,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true,annoMethod:a.annoMethod,valueLabels:a.valueLabels||[]}});else{k=b._applyAxisText(c.y,{});b.axisInfo.y["0"]={id:"y",tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:k,axisTextOffset:l,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true,annoMethod:c.y.annoMethod,valueLabels:c.y.valueLabels||[]}}b._getSeriesGroup();h=b._getDataExtreme(j);if(c.x.autoMin&&b.axisInfo.x.autoMin)c.x.min=h.txn;else if(c.x.min&&b._isDate(c.x.min))c.x.min=a.toOADate(c.x.min);if(c.x.autoMax&&b.axisInfo.x.autoMax)c.x.max=h.txx;else if(c.x.max&&b._isDate(c.x.max))c.x.max=a.toOADate(c.x.max);a.each(h.y,function(){o++});for(i=0;i<o;i++){d=c.y[i]||c.y;e=i.toString();if(d.autoMin&&b.axisInfo.y[e].autoMin)d.min=h.y[e].tyn;else if(d.min&&b._isDate(d.min))d.min=a.toOADate(d.min);if(d.autoMax&&b.axisInfo.y[e].autoMax)d.max=h.y[e].tyx;else if(d.max&&b._isDate(d.max))d.max=a.toOADate(d.max);do{g=b._autoPosition(b.axisInfo,c,"y",e);f=b._autoPosition(b.axisInfo,c,"x",e);if(g===b.axisInfo.y[e].offset&&f===b.axisInfo.x.offset){m=0;break}if(!isNaN(f)&&!isNaN(g)){if(g!==b.axisInfo.y[e].offset&&g!==0){b.axisInfo.y[e].offset=g;b.axisInfo.y[e].vOffset=f}if(f!==b.axisInfo.x.offset&&f!==0){b.axisInfo.x.offset=f;b.axisInfo.x.vOffset=g}}m--}while(m>0)}b._adjustPlotArea(c.x,b.axisInfo.x);b._adjustPlotArea(c.y,b.axisInfo.y,true);b.innerState.axisInfo=b.axisInfo;b.innerState.canvasBounds=b.canvasBounds}b._paintAxes();b._paintPlotArea()}else b._paintPlotArea()},_getSeriesGroup:function(){var c=this,d=c.options,b={};a.each(d.seriesList,function(c,a){if(a.yAxis)if(b[a.yAxis.toString()])b[a.yAxis.toString()].push(a);else b[a.yAxis.toString()]=[a];else if(b["0"])b["0"].push(a);else b["0"]=[a]});c.seriesGroup=b},_adjustPlotArea:function(e,d,f){var c=this.canvasBounds,g,b={east:Number.MIN_VALUE,west:Number.MIN_VALUE,south:Number.MIN_VALUE,north:Number.MIN_VALUE};if(f){a.each(d,function(a){g=a});a.each(d,function(f,a){var c=e[f]||e,d=c.compass;c.max=a.max;c.min=a.min;switch(d){case"north":b.north=Math.max(a.offset,b.north);break;case"south":b.south=Math.max(a.offset,b.south);break;case"east":b.east=Math.max(a.offset,b.east);break;case"west":b.west=Math.max(a.offset,b.west)}});if(b.north!==Number.MIN_VALUE)c.startY+=b.north;if(b.south!==Number.MIN_VALUE)c.endY-=b.south;if(b.east!==Number.MIN_VALUE)c.endX-=b.east;if(b.west!==Number.MIN_VALUE)c.startX+=b.west}else{e.max=d.max;e.min=d.min;switch(e.compass){case"north":c.startY+=d.offset;break;case"south":c.endY-=d.offset;break;case"east":c.endX-=d.offset;break;case"west":c.startX+=d.offset}}},_autoPosition:function(b,a,c,d){return this._autoPositionCartesianAxis(b,a,c,d)},_autoPositionCartesianAxis:function(m,g,p,i){var h=this,o=null,b,e,k,n,c,j,q,r,f=h.lastAxisOffset||{},d,l;if(p==="y"){b=m.y[i];e=g.y[i]||g.y;n=g.x;k=m.x}else{b=m.x;e=g.x;k=m.y[i];n=g.y[i]||g.y}c=e.compass;j=n.origin;q=k.max;r=k.min;if(j!==null&&h._isDate(j))j=a.toOADate(j);h._calculateParameters(b,e);o=h._getMaxExtents(b,e);switch(c){case"north":case"south":d=o.height;b.maxExtent=d;break;case"east":case"west":d=o.width;b.maxExtent=d}if(p==="y"&&f[c]){a.each(f[c],function(b,a){if(b!==i)l=a});if(l){b.preStartOffset=l;d+=l}}if(p==="y"){if(f[c]===undefined)f[c]={};f[c][i]=d+h._getAxisLabelBox(e).width;h.lastAxisOffset=f}return d},_getAxisLabelBox:function(d){var f=this,m=f.options,l=d.text,j=0,h=0,i=0,g=0,c,e,k=f._isVertical(d.compass),b=a.extend(true,{},m.textStyle,d.textStyle);if(b["margin-top"])j=parseFloat(b["margin-top"]);if(b["margin-left"])i=parseFloat(b["margin-left"]);if(b["margin-right"])h=parseFloat(b["margin-right"]);if(b["margin-bottom"])g=parseFloat(b["margin-bottom"]);c=f._text(0,0,l);c.attr(b);k&&c.transform("...R-90");e=c.wijGetBBox();c.wijRemove();c=null;return{width:e.width+i+h,height:e.height+g+j}},_getMaxExtents:function(b,f,o){var c=this,p=c.options,i=null,e={width:0,height:0},u=b.min,t=b.max,s=b.isTime,d=f.annoFormatString,r=p.is100Percent,l=0,q=f.compass,h=f.labels,g,m=false,n=c.canvasBounds,j,k;b.majorTickRect=c._getTickRect(b,f,true,true,o);b.minorTickRect=c._getTickRect(b,f,false,true,o);i=c._getMajorTickValues(b,f);if(!f.textVisible)return e;if(!d||d.length===0)d=b.annoFormatString;g=a.extend(true,{},p.textStyle,f.textStyle,h.style);k=g.transform;k&&k.length&&a.each(k,function(b,a){if(a[0].toLowerCase()==="r"){m=true;return false}});g=a.extend(true,g,b.textStyle);j=n.endX-n.startX-b.vOffset-b.axisTextOffset;if(i&&i.length){j=j/(i.length-1);a.each(i,function(o,f){var k,i,n;if(f<u||f>t)return true;if(b.annoMethod==="valueLabels"){if(f<0)return true;if(l>=b.valueLabels.length)return false;f=b.valueLabels[l];if(f.text)f=f.text;else if(typeof f.value!=="undefined"){f=f.value;if(d&&d.length)f=Globalize.format(f,d,c._getCulture())}}else if(b.annoMethod==="values")if(d&&d.length){if(s)f=a.fromOADate(f);f=Globalize.format(f,d,c._getCulture())}else if(r&&b.id==="y")f=Globalize.format(f,"p0",c._getCulture());if(h.width)k=c.canvas.wrapText(-100,-100,f,h.width,h.textAlign,g);else k=c._text(-100,-100,f).attr(g);i=k.wijGetBBox();if(!c._isVertical(q)&&!m&&b.annoMethod==="valueLabels")if(i.width>j){k.attr({transform:"r-45"});i=k.wijGetBBox();if(o===0){g.transform="r-45";b.textStyle={transform:"r-45"};n=k.clone();n.attr({transform:"r0"});i=n.wijGetBBox();if(Math.sqrt(2)*i.height>j){k.attr({transform:"r-90"});g.transform="r-90";b.textStyle={transform:"r-90"}}n.wijRemove();n=null;i=k.wijGetBBox()}}k.wijRemove();k=null;if(i.width>e.width)e.width=i.width;if(i.height>e.height)e.height=i.height;l++})}if(e.width<h.width)e.width=h.width;b.labelWidth=e.width;return e},_getMajorTickValues:function(c,e){var d=[],b=c.valueLabels;b&&b.length>0&&a.each(b,function(c,a){if(typeof a.text!=="undefined"||typeof a.value!=="undefined")return false;if(typeof a==="string")b[c]={text:a,gridLine:false};else b[c]={value:a,gridLine:false}});if(c.annoMethod==="valueLabels"&&b&&b.length>0&&typeof b[0].value!=="undefined"){d=this._getSortedDataValues(c,e);return d}d=this._getTickValues(c.max,c.min,e.unitMajor,c.tprec,!c.isTime,e.autoMajor);return d},_getSortedDataValues:function(d){var e=this,b=[],c=d.valueLabels;a.each(c,function(f,d){var c=d.value;if(e._isDate(c))b.push(a.toOADate(c));else if(typeof c==="number")b.push(c);else b.push(f)});return b},_getMinorTickValues:function(a,b){var c=[];c=this._getTickValues(a.max,a.min,b.unitMinor,a.tprec,!a.isTime,b.autoMinor);return c},_getTickValues:function(f,b,c,g,o,l){var p=this,i=[],n=b,e=0,h=0,m=0,k=0,d=0,j=0;try{if(c===0)i=[f,b];else{if(l){if(g+1<0)g=-1;else if(g+1>15)g=14;j=a.round(p._signedCeiling(b/c)*c,g+1);if(j<f)b=j;m=parseInt(a.round(f/c,5),10);k=parseInt(a.round(b/c,5),10);d=parseInt(m-k+1,10);if(d>1){h=k*c;if(h<b){d--;b+=c}h=b+(d-1)*c;if(h>f)d--}if(d<1){d=2;b=n;c=f-b}}else{d=parseInt((f-b)/c+1,10);if(d>1){h=b+(d-1)*c;if(h>f)d--}if(d<1){d=2;c=f-b}}for(e=0;e<d;e++)if(o)if(l)i[e]=a.round(b+e*c,g+1);else i[e]=b+e*c;else i[e]=b+e*c}}catch(q){}return i},_getTickRect:function(m,d,l,e){var c=d.compass,f=0,a=null,j=3,k=2,i=2,g=d.tickMajor.factor,h=d.tickMinor.factor,b={x:0,y:0,width:0,height:0};if(l){a=d.tickMajor.position;g=g>0?g:1;f=j*g}else{a=d.tickMinor.position;h=h>0?h:1;f=k*h}if(a==="none"||a==="inside"&&e)f=0;if(c==="east"||c==="west"){b={x:0,y:-1,width:f*i,height:i};if(c==="east"&&(a==="outside"||a==="cross"&&e)||c==="west"&&a==="inside")b.width+=2;else if(!e){if(a==="cross")b.width<<=1;b.width+=2}}else{b={x:-1,y:0,width:i,height:f*i};if(c==="south"&&(a==="outside"||a==="corss"&&e)||c==="north"&&a==="inside")b.height+=2;else if(!e){if(a==="cross")b.height<<=1;b.height+=2}}return b},_applyMargins:function(){var c=this,b=c.options,a=c.canvasBounds;a.startX+=b.marginLeft;a.endX-=b.marginRight;a.startY+=b.marginTop;a.endY-=b.marginBottom},_paintAxes:function(){var b=this,h=b.options.axis,g=b.axisInfo,c=h.x,e=h.y,f=g.x,i=g.y,d;d=b._paintAxis(c,f);a.each(i,function(g,f){var a=e[g]||e;a.origin!==null&&b._translateAxisIfNeeded(d,c.compass,a.origin,a.compass,f.max,f.min)});a.each(i,function(h,g){var a=e[h]||e;d=b._paintAxis(a,g);c.origin!==null&&b._translateAxisIfNeeded(d,a.compass,c.origin,c.compass,f.max,f.min)})},_translateAxisIfNeeded:function(g,h,l,i,e,f){var j=this,k=i==="west"||i==="east",b=j.canvasBounds,c=l,d;if(j._isDate(c))c=a.toOADate(c);if(!k){if(h==="west")d=(c-f)/(e-f)*(b.endX-b.startX);else d=(c-e)/(e-f)*(b.endX-b.startX);a.each(g,function(b,a){a.transform(Raphael.format("...T{0},{1}",d,0))})}else{if(h==="south")d=(f-c)/(e-f)*(b.endY-b.startY);else d=(e-c)/(e-f)*(b.endY-b.startY);a.each(g,function(b,a){a.transform(Raphael.format("...T{0},{1}",0,d))})}},_paintAxis:function(c,b){var e=this,B=e.options,d=e.canvasBounds,f={x:0,y:0},g={x:0,y:0},s=c.compass,k=2,q=true,o=null,p=[],u=[],v=[],m=b.max,n=b.min,I=c.unitMajor,J=c.unitMinor,G=c.tickMajor.position,H=c.tickMinor.position,A=b.maxExtent,C=c.tickMajor.style,D=c.tickMinor.style,x=b.majorTickRect,y=b.minorTickRect,w=b.axisTextOffset,E=c.gridMajor,F=c.gridMinor,j=c.labels,t=0,z=[],l=0,h=c.annoFormatString,r=null,i=[];x=e._getTickRect(b,c,true,false);y=e._getTickRect(b,c,false,false);if(!h||h.length===0)h=b.annoFormatString;p=e._getMajorTickValues(b,c);u=e._getMinorTickValues(b,c);v=e._resetMinorTickValues(u,p);switch(s){case"south":f.x=d.startX;f.y=d.endY;g.x=d.endX;g.y=d.endY;q=false;break;case"north":f.x=d.startX;f.y=d.startY-k;g.x=d.endX;g.y=d.startY-k;q=false;break;case"east":f.x=d.endX-k;if(b.preStartOffset)f.x+=b.preStartOffset;f.y=d.endY;g.x=d.endX-k;g.y=d.startY;break;case"west":f.x=d.startX;if(b.preStartOffset)f.x-=b.preStartOffset;f.y=d.endY;g.x=d.startX;g.y=d.startY}if(c.visible){o=e.canvas.line(f.x,f.y,g.x,g.y).attr(c.style);a.wijraphael.addClass(a(o.node),"wijchart-axis");e.axisEles.push(o);i.push(o)}a.each(p,function(D,k){var d=k,y=b.isTime,v=B.is100Percent,p,o,u=false,q={};if(k<n||k>m){l++;return true}if(b.annoMethod==="valueLabels"){if(l>=b.valueLabels.length)return false;d=b.valueLabels[l];u=d.gridLine;q=d.gridLineStyle;if(d.text)d=d.text;else if(typeof d.value!=="undefined"){d=d.value;if(h&&h.length)d=Globalize.format(d,h,e._getCulture())}}else if(b.annoMethod==="values")if(h&&h.length){if(y)d=a.fromOADate(k);d=Globalize.format(d,h,e._getCulture())}else if(v&&b.id==="y")d=Globalize.format(k,"p0",e._getCulture());r=a.extend(true,{},B.textStyle,c.textStyle,j.style,b.textStyle);p=e._paintMajorMinor(m,n,k,G,I,x,s,f,g,A,w,C,d,E,c.textVisible,r,j.textAlign,j.width?b.labelWidth:null,u,q);if(p){if(p.elements)i=i.concat(p.elements);o=p.textInfo}if(o){z.push(o);if(t<o.len)t=o.len}l++});!j.width&&a.each(z,function(d,c){var b=c.text,a=(c.len-t)/2;a=j.textAlign==="near"?a*-1:a;if(q)b.transform(Raphael.format("...T{0},{1}",a,0));else b.transform(Raphael.format("...T{0},{1}",0,a))});a.each(v,function(h,d){var a;if(d>n&&d<m){a=e._paintMajorMinor(m,n,d,H,J,y,s,f,g,A,w,D,null,F,c.textVisible,r,j.textAlign,j.width?b.labelWidth:null);if(a&&a.elements)i=i.concat(a.elements)}});c.text&&c.text.length>0&&i.push(e._paintAxisText(c,b));return i},_paintAxisText:function(d,f){if(!d.text||d.text.length===0)return;var j=this,z=d.text,p=d.compass,x=d.alignment,l=j.canvasBounds,m=l.startX,n=l.startY,q=l.endX,r=l.endY,h=m,i=n,c=f.textBounds,o=j._isVertical(p),k=f.axisTextOffset,s=f.majorTickRect,y=d.tickMajor.position,e=o?s.width:s.height,b=null,g=null,w=0,v=0,u=0,t=0;b=a.extend(true,{},j.options.textStyle,d.textStyle);if(b["margin-top"])w=parseFloat(b["margin-top"]);if(b["margin-left"])v=parseFloat(b["margin-left"]);if(b["margin-right"])u=parseFloat(b["margin-right"]);if(b["margin-bottom"])t=parseFloat(b["margin-bottom"]);if(y==="cross")e=e/2;else if(y==="inside")e=0;if(o){switch(x){case"near":i=r-c.width/2;break;case"center":i=(n+r)/2;break;case"far":i=n+c.width/2}if(p==="west")h=m-(f.offset+k+e+c.height/2+u);else h=q+f.offset+k+e+c.height/2+v}else{switch(x){case"near":h=m+c.width/2;break;case"center":h=(m+q)/2;break;case"far":h=q-c.width/2}if(p==="north")i=n-(f.offset+k+e+c.height/2+t);else i=r+f.offset+k+e+c.height/2+w}g=j._text(h,i,z);a.wijraphael.addClass(a(g.node),"wijchart-axis-text");j.axisEles.push(g);g.attr(b);o&&g.transform("...R-90");return g},_resetMinorTickValues:function(a,d){for(var b=0,c=0,f=null,e=null,b=a.length-1;b>=0;b--){f=a[b];for(c=d.length-1;c>=0;c--){e=d[c];f===e&&a.splice(b,1)}}return a},_paintMajorMinor:function(J,u,K,h,L,c,j,t,G,o,k,x,A,q,C,F,E,l,D,B){var f=this,e=t.x,b=t.y,m=-1,n=-1,s=true,g=f.canvasBounds,H=null,r=null,y=[],p=[],d=null,z={"stroke-width":2},i={text:null,len:0},w=null,I={},v=[];switch(j){case"south":if(h==="inside")b-=c.height;else if(h==="cross")b-=c.height/2;if(l)n=b+k+c.height;else n=b+k+c.height+o/2;s=false;break;case"west":if(h==="outside")e-=c.width;else if(h==="cross")e-=c.width/2;if(l)m=e-(k+o);else m=e-(k+o/2);break;case"north":if(h==="outside")b-=c.height;else if(h==="cross")b-=c.height/2;if(l)n=b-(k+o);else n=b-(k+o/2);s=false;break;case"east":if(h==="inside")e-=c.width;else if(h==="cross")e-=c.width/2;if(l)m=e+k+c.width;else m=e+k+c.width+o/2}if(s){b+=(K-u)/(J-u)*(G.y-t.y);p=["M",g.startX,b,"H",g.endX];if(q.visible)if(b!==g.startY&&j==="east"||b!==g.endY&&j==="west"){d=f.canvas.path(p.concat(" "));a.wijraphael.addClass(a(d.node),"wijchart-axis-gridline");d.attr(q.style);f.axisEles.push(d)}if(D)if(b!==g.startY&&j==="east"||b!==g.endY&&j==="west"){d=f.canvas.path(p.concat(" "));a.wijraphael.addClass(a(d.node),"wijchart-axis-gridline");d.attr(a.extend(true,q.style,B));f.axisEles.push(d)}n=b;if(h!=="none"){y=["M",e,b,"h",c.width];x["stroke-width"]=c.height}}else{e+=(K-u)/(J-u)*(G.x-t.x);p=["M",e,g.startY,"V",g.endY];if(q.visible)if(e!==g.startX&&j==="south"||e!==g.endX&&j==="north"){d=f.canvas.path(p.concat(" "));a.wijraphael.addClass(a(d.node),"wijchart-axis-gridline");d.attr(q.style);f.axisEles.push(d)}if(D)if(b!==g.startY&&j==="south"||b!==g.endY&&j==="north"){d=f.canvas.path(p.concat(" "));a.wijraphael.addClass(a(d.node),"wijchart-axis-gridline");d.attr(a.extend(true,{},q.style,B));f.axisEles.push(d)}if(l)m=e-l/2;else m=e;if(h!=="none"){y=["M",e,b,"v",c.height];x["stroke-width"]=c.width}}if(h!=="none"){r=f.canvas.path(y.concat(" "));a.wijraphael.addClass(a(r.node),"wijchart-axis-tick");z=a.extend(z,x);r.attr(z);f.axisEles.push(r);v.push(r)}if(A!==null&&C){if(l){i=f.canvas.wrapText(m,n,A.toString(),l,E,F);a.wijraphael.addClass(a(i.node),"wijchart-axis-label")}else{i=f._text(m,n,A.toString());a.wijraphael.addClass(a(i.node),"wijchart-axis-label");i.attr(F)}f.axisEles.push(i);v.push(i);!C&&i.hide();if(E!=="center"){w=i.getBBox();H={text:i,len:s?w.width:w.height}}}I={textInfo:H,elements:v};return I},_paintPlotArea:function(){},_paintChartLabels:function(){var c=this,b=c.options.chartLabels;b&&b.length&&a.each(b,function(e,b){var d;b=a.extend(true,{compass:"east",attachMethod:"coordinate",attachMethodData:{seriesIndex:-1,pointIndex:-1,x:-1,y:-1},offset:0,visible:false,text:"",connected:false},b);if(b.visible){d=c._getChartLabelPointPosition(b);if(typeof d.x!=="number"||typeof d.y!=="number")return false;c._setChartLabel(b,d)}})},_getChartLabelPointPosition:function(){},_setChartLabel:function(d,g,o,l){var c=this,n=d.compass,k=c.options,m=a.extend(true,{},k.textStyle,k.chartLabelStyle),e=c._text(0,0,d.text).attr(m),h=d.offset,i=0,j=0,b=null,f=null;a.wijraphael.addClass(a(e.node),"wijchart-label-text");c.chartLabelEles.push(e);b=c._getCompassTextPosition(n,e.wijGetBBox(),h,g,o);if(h&&d.connected){f=c.canvas.path("M"+g.x+" "+g.y+"L"+b.endPoint.x+" "+b.endPoint.y);a.wijraphael.addClass(a(f.node),"wijchart-label-connect");f.attr(l);c.chartLabelEles.push(f)}i=b.endPoint.x+b.offsetX;j=b.endPoint.y+b.offsetY;e.transform(Raphael.format("...T{0},{1}",i,j)).toFront()},_getCompassTextPosition:function(h,c,i,g,b){var d=0,e=0,f={x:0,y:0};switch(h.toLowerCase()){case"east":b=0;break;case"west":b=180;break;case"north":b=90;break;case"south":b=270;break;case"northeast":b=45;break;case"northwest":b=135;break;case"southeast":b=315;break;case"southwest":b=225}if(b>=0&&b<45/2||b>675/2&&b<360)d=c.width/2;else if(b>=45/2&&b<135/2){d=c.width/2;e=c.height/-2}else if(b>=135/2&&b<225/2)e=c.height/-2;else if(b>=225/2&&b<315/2){d=c.width/-2;e=c.height/-2}else if(b>=315/2&&b<405/2)d=c.width/-2;else if(b>=405/2&&b<495/2){d=c.width/-2;e=c.height/2}else if(b>=495/2&&b<585/2)e=c.height/2;else{d=c.width/2;e=c.height/2}f=a.wijraphael.getPositionByAngle(g.x,g.y,i,b);return{endPoint:f,offsetX:d,offsetY:e}},_mouseDown:function(b,a){this._trigger("mouseDown",b,a)},_mouseUp:function(b,a){this._trigger("mouseUp",b,a)},_mouseOver:function(b,a){this._trigger("mouseOver",b,a)},_mouseOut:function(b,a){this._trigger("mouseOut",b,a)},_mouseMove:function(b,a){this._trigger("mouseMove",b,a)},_click:function(b,a){this._trigger("click",b,a)},_mouseMoveInsidePlotArea:function(){},_mouseMoveOutsidePlotArea:function(){},_bindLiveEvents:function(){this._bindLegendEvents();this._bindCanvasEvents()},_bindCanvasEvents:function(){var a=this,b=a.chartElement;b.bind("mousemove",function(e){var f=b.offset(),d=a.canvasBounds,c={left:e.pageX-f.left,top:e.pageY-f.top},g=a.options.disabled;if(g)return;if(c.left>=d.startX&&c.left<=d.endX&&c.top>=d.startY&&c.top<=d.endY)a._mouseMoveInsidePlotArea(e,c);else a._mouseMoveOutsidePlotArea(e,c)})},_bindLegendEvents:function(){var b=this,d=b.chartElement,c=b.widgetName;a(".wijchart-legend",d[0]).live("click."+c,function(d){if(b.options.disabled)return;var c=a(d.target);if(c[0].tagName&&c[0].tagName==="tspan")c=c.parent();b._legendClick(c)})},_legendClick:function(j){if(typeof j.data("index")==="undefined")return;var c=this,k=c.options.legend,h=j.data("index"),l=j.data("legendIndex"),i=c.chartElement.data("fields"),m=c.seriesEles,g,f=c.legendIcons[l],e=c.legends[l],b=k.textWidth?a(e[0].node):a(e.node),n=h,d;if(i&&i.seriesEles)m=i.seriesEles;if(c.legendDots&&c.legendDots.length>h)d=c.legendDots[h];if(k.reversed)n=c.legends.length-1-h;g=m[n];if(g)if(!b.data("hidden")){c._hideSerieEles(g);if(!b.data("textOpacity"))if(k.textWidth)b.data("textOpacity",e[0].attr("opacity")||1);else b.data("textOpacity",e.attr("opacity")||1);!b.data("iconOpacity")&&b.data("iconOpacity",f.attr("opacity")||1);d&&!b.data("dotOpacity")&&b.data("dotOpacity",f.attr("opacity")||1);e.attr("opacity","0.3");f.attr("opacity","0.3");d&&d.attr("opacity","0.3");b.data("hidden",true)}else{c._showSerieEles(g);e.attr("opacity",b.data("textOpacity"));f.attr("opacity",b.data("iconOpacity"));d&&d.attr("opacity",b.data("dotOpacity"));b.data("hidden",false)}},_showSerieEles:function(){},_hideSerieEles:function(){},_unbindLiveEvents:function(){var d=this,c=this.chartElement,b=d.widgetName;a(".wijchart-legend",c[0]).die(b).die("."+b);c.unbind("mousemove")},_isBarChart:function(){return false},_isPieChart:function(){return false},_calculateParameters:function(c,g){var d=this,b=g.max,a=g.min,o=g.autoMax&&c.autoMax,m=g.autoMin&&c.autoMin,r=g.autoMajor&&c.autoMajor,s=g.autoMinor&&c.autoMinor,h=null,k=null,p=c.annoMethod==="valueLabels",e=0,i=0,j=0,f=0,l=0,n=c.isTime,q=d.options.adjustMinValue;if(o&&b!==Number.MIN_VALUE)if(c.id!=="x"&&d._isBarChart())if(b<0&&.5*(b-a)>-b)b=0;if(m&&a!==Number.MAX_VALUE)if(c.id!=="x"&&d._isBarChart())if(a>0&&.5*(b-a)>a)a=0;if(b===a){if(a!==0)a-=1;b+=1}f=b-a;if(n){h=g.annoFormatString;if(!h||h.length===0){h=d._getTimeDefaultFormat(b,a);c.annoFormatString=h}l=d._niceTimeUnit(0,h)}k=d._nicePrecision(f);c.tprec=k;if(o)if(n){i=d._roundTime(b,l,true);if(i<b)b=i+l;else b=i}else{i=d._precCeil(-k,b);if(typeof i==="number")b=i}if(m)if(n){j=d._roundTime(a,l,false);if(j>a)a=j-l;else a=j}else{j=d._precFloor(-k,a);if(typeof j==="number")a=j}c.max=b;c.min=a;c.annoFormatString=h;c.tinc=l;if(r||s){f=b-a;d._calculateMajorMinor(g,c);e=g.unitMajor;if(o&&e!==0&&!n&&!p){f=b-parseInt(b/e,10)*e;if(f!==0){b+=e-f;b=d._precCeil(-k,b)}}if(m&&e!==0&&!n&&!p){f=a-parseInt(a/e,10)*e;if(f!==0){if(f<0)f+=e;a-=Math.abs(f);a=d._precFloor(-k,a)}}if(m&&e!==0&&!p&&(typeof q==="undefined"||q===false)&&m&&a===g.min&&a-e>=0&&c.id==="y")a-=e}c.max=b;c.min=a},_roundTime:function(k,g,e){var c=this,d=g,f=a.fromOADate(k),b,h,j,i;if(d>0){b={year:f.getFullYear(),month:f.getMonth(),day:f.getDate(),hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()};if(d<c._tmInc.minute){b.second=c._tround(b.second,d,e);return c._getTimeAsDouble(b)}b.second=0;if(d<c._tmInc.hour){d/=c._tmInc.minute;b.minute=c._tround(b.minute,d,e);return c._getTimeAsDouble(b)}b.minute=0;if(d<c._tmInc.day){d/=c._tmInc.hour;b.hour=c._tround(b.hour,d,e);return c._getTimeAsDouble(b)}b.hour=0;if(d<c._tmInc.month){d/=c._tmInc.day;b.day=c._tround(b.day,d,e);return c._getTimeAsDouble(b)}b.day=1;if(d<c._tmInc.year){d/=c._tmInc.month;b.month=c._tround(b.month,d,e);return c._getTimeAsDouble(b)}b.month=0;d/=c._tmInc.year;b.year=c._tround(b.year,d,e);return c._getTimeAsDouble(b)}else{h=f;j=h-d;i=parseInt(j/g,10)*g;if(e&&i!==j)i+=g;h=d+i;return h}},_tround:function(c,a,d){var b=parseInt(c/a*a,10);if(d&&b!==c)b+=parseInt(a,10);return b},_getTimeAsDouble:function(b){var e=0,d=0,c=null;if(b.day<1){d=-1-b.day;b.day=1}else if(b.day>28){d=b.day-28;b.day=28}if(b.month<0){e=-1-b.day;b.month=0}else if(b.month>11){e=b.month-11;b.month=11}c=new Date(b.year,b.month,b.day,b.hour,b.minute,b.second);c.setDate(c.getDate()+d);c.setMonth(c.getMonth()+e);return a.toOADate(c)},_getTimeDefaultFormat:function(d,e){var c=this,b=d-e,a="d";if(b>2*c._tmInc.year)a="yyyy";else if(b>c._tmInc.year)a="MMM yy";else if(b>3*c._tmInc.month)a="MMM";else if(b>2*c._tmInc.week)a="MMM d";else if(b>2*c._tmInc.day)a="ddd d";else if(b>c._tmInc.day)a="ddd H:mm";else if(b>c._tmInc.hour)a="H:mm";else if(b>=1e3)a="H:mm:ss";return a},_niceTimeUnit:function(c,b){var d=this,a=c;a=d._niceTimeSpan(a,b);return a},_niceTimeSpan:function(f,e){var a=this,c=a._manualTimeInc(e),d=0,b=0;d=Math.ceil(f);if(d===0)return a._timeSpanFromTmInc(c);b=1;if(c<a._tmInc.minute){if(d<a._tmInc.minute){b=a._getNiceInc([1,2,5,10,15,30],d,c);if(b!==0)return b}c=a._tmInc.minute}if(c<a._tmInc.hour){if(d<a._tmInc.hour){b=a._getNiceInc([1,2,5,10,15,30],d,c);if(b!==0)return b}c=a._tmInc.hour}if(c<a._tmInc.day){if(d<a._tmInc.day){b=a._getNiceInc([1,3,6,12],d,c);if(b!==0)return b}c=a._tmInc.day}if(c<a._tmInc.month){if(d<a._tmInc.month){b=a._getNiceInc([1,2,7,14],d,c);if(b!==0)return b}c=a._tmInc.month}if(c<a._tmInc.year){if(d<a._tmInc.year){b=a._getNiceInc([1,2,3,4,6],d,c);if(b!==0)return b}c=a._tmInc.year}b=100*a._tmInc.year;if(d<b){b=a._getNiceInc([1,2,5,10,20,50],d,c);if(b===0)b=100*a._tmInc.year}return b},_getNiceInc:function(c,f,d){for(var b=0,a=0,e=c.length,b=0;b<e;b++){a=c[b]*d;if(f<=a)return a}return 0},_timeSpanFromTmInc:function(a){var b=1e3,d=a,c=1;if(a!==this._tmInc.maxtime)if(a>this._tmInc.tickf1)b=a;else{a+=7;while(d>0){c*=10;d--}b=c}return b},_manualTimeInc:function(a){var c=this,b=c._tmInc.second;if(!a||a.length===0)return b;if(a.indexOf("s")>=0)b=c._tmInc.second;else if(a.indexOf("m")>=0)b=c._tmInc.minute;else if(a.indexOf("h")>=0||a.indexOf("H")>=0)b=c._tmInc.hour;else if(a.indexOf("d")>=0)b=c._tmInc.day;else if(a.indexOf("M")>=0)b=c._tmInc.month;else if(a.indexOf("y")>=0)b=c._tmInc.year;return b},_tmInc:{tickf7:-7e3,tickf6:-6e3,tickf5:-5e3,tickf4:-4e3,tickf3:-3e3,tickf2:-2e3,tickf1:-1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31536e6,maxtime:2147483647},_niceTickNumber:function(a){if(parseFloat(a)===0)return a;else if(a<0)a=-a;var e=Math.log(a)/Math.log(10),d=parseInt(this._signedFloor(e),10),c=a/Math.pow(10,d),b=10;if(c<=1)b=1;else if(c<=2)b=2;else if(c<=5)b=5;return b*Math.pow(10,d)},_niceNumber:function(c,d,e){if(parseFloat(c)===0)return c;else if(c<0)c=-c;var b=c/Math.pow(10,d),a=10;if(e){if(b<1.5)a=1;else if(b<3)a=2;else if(b<7)a=5}else if(b<=1)a=1;else if(b<=2)a=2;else if(b<=5)a=5;return a*Math.pow(10,d)},_nicePrecision:function(a){if(a<=0||typeof a!=="number")return 0;var c=Math.log(a)/Math.log(10),b=parseInt(this._signedFloor(c),10),d=a/Math.pow(10,b);if(d<3)b=-b+1;return b},_precCeil:function(d,c){var b=Math.pow(10,d),a=c/b;a=Math.ceil(a);return a*b},_precFloor:function(d,c){var b=Math.pow(10,d),a=c/b;a=Math.floor(a);return a*b},_signedCeiling:function(a){return a<0?Math.floor(a):Math.ceil(a)},_signedFloor:function(a){return a<0?Math.ceil(a):Math.floor(a)},_getDataExtreme:function(c){var b={txx:0,txn:0,tyx:0,tyn:0},a;a=this._getDataExtremes(b,c);if(a){if(a.txn>a.txx){a.txn=0;a.txx=1}return a}else{if(b.txn>b.txx){b.txn=0;b.txx=1}return b}},_getDataExtremes:function(b){var f=this,k=f.options,n=k.seriesList,p=k.stacked,o=k.is100Percent,d=k.axis,c=f.axisInfo,e=[],l=[],i=[],h,j={y:{}},g=d.x.valueLabels,m=c.x.annoMethod,r=c.y.annoMethod;if(!n||n.length===0)return b;f.seriesGroup&&a.each(f.seriesGroup,function(k,n){var g=[],m=parseInt(k,10);a.each(n,function(n,i){if(i.type==="pie")return true;i=a.extend(true,{display:"show"},i);var c=i.data,m=0,j=0,k=[].concat(c.xy),o=k.length,d,h;if(i.display==="exclude")return true;e=[].concat(c.x);g=[].concat(c.y);if(c.xy&&o){e=[];g=[];while(j<o){e[m]=k[j];g[m]=k[j+1];j+=2;m++;c.x=e;c.y=g}}else if(!c.x){e=[];a.each(g,function(a){e.push(a)});c.x=e}p&&n>0&&a.each(g,function(a){g[a]+=l[a]});l=g;d=f._getMinMaxValue(e);h=f._getMinMaxValue(g);if(n===0){b.txx=d.max;b.txn=d.min;b.tyx=h.max;b.tyn=h.min}else{if(b.txx<d.max)b.txx=d.max;if(b.txn>d.min)b.txn=d.min;if(b.tyx<h.max)b.tyx=h.max;if(b.tyn>h.min)b.tyn=h.min}n++});if(o){b.tyx=1;b.tyn=0}j.y[k]={tyx:b.tyx,tyn:b.tyn};j.txx=b.txx;j.txn=b.txn;b.tyx=0;b.tyn=0;if(g.length){h=a.wijchart.getFirstValidListValue(g);if(f._isDate(h))c.y[k].isTime=true;else if(typeof h==="undefined")return true;else if(typeof h!=="number"){a.each(g,function(e,c){var b=d.y.annoFormatString,a=c;if(b&&b.length>0)a=Globalize.format(a,b,f._getCulture());else a=a.toString();i.push({text:a,value:c,gridLine:false})});c.y[k].annoMethod="valueLabels";if(!d.y[m].valueLabels&&d.y[m].valueLabels.length===0)c.y[k].valueLabels=i;else c.y[k].valueLabels=d.y[m].valueLabels;d.x.max=g.length-1;d.x.min=0;d.y[m].unitMajor=1;d.x.unitMinor=.5;c.y[k].autoMax=false;c.y[k].autoMin=false;c.y[k].autoMajor=false;c.y[k].autoMinor=false}}});if(e.length){h=a.wijchart.getFirstValidListValue(e);if(m==="valueLabels"&&g&&g.length>0)c.x.valueLabels=g;if(f._isDate(h))c.x.isTime=true;else if(typeof h!=="number"){a.each(e,function(d,h){var e={},b,c;if(m==="valueLabels"&&g&&g.length&&d<g.length){b=g[d];c=typeof b;if(c==="string")b={text:b};else if(c==="number"||f._isDate(b))b={value:b}}e=a.extend({text:h,value:d,gridLine:false},b);i.push(e)});d.x.max=e.length-1;d.x.min=0;d.x.unitMajor=1;d.x.unitMinor=.5;c.x.annoMethod="valueLabels";c.x.valueLabels=i;c.x.autoMax=false;c.x.autoMin=false;c.x.autoMajor=false;c.x.autoMinor=false}}return j},_isDate:function(a){return!a?false:typeof a==="object"&&a.constructor===Date},_getMinMaxValue:function(c){var f=this,b={min:0,max:0},d=0,e;if(!c.length)return b;e=a.wijchart.getFirstValidListValue(c);if(typeof e!=="number")if(f._isDate(e)){b.min=e;b.max=e}else{b.min=0;b.max=c.length-1;return b}else{b.min=e;b.max=e}for(d=0;d<c.length;d++){if(c[d]===null||typeof c[d]==="undefined")continue;if(typeof c[d]==="number"&&isNaN(c[d]))continue;if(c[d]<b.min)b.min=c[d];else if(c[d]>b.max)b.max=c[d]}if(f._isDate(b.min)){b.min=a.toOADate(b.min);b.max=a.toOADate(b.max)}return b},_isVertical:function(a){return a==="west"||a==="east"},_calculateMajorMinor:function(f,d){var c=this,A=c.options,n=c.canvasBounds,y=f.autoMajor,z=f.autoMinor,p=d.max,q=d.min,v=d.isTime,x=d.tinc,r=d.annoFormatString,s=null,t=null,g=null,j=null,i=null,h=null,o=null,l=null,m=null,e=p-q,w=0,u=0,k=0,b=0;if(y){m=a.extend(true,{},A.textStyle,f.textStyle,f.labels.style);if(v){s=Globalize.format(a.fromOADate(p),r,c._getCulture());t=Globalize.format(a.fromOADate(q),r,c._getCulture());i=c._text(-1e3,-1e3,s).attr(m);h=c._text(-1e3,-1e3,t).attr(m);g=i.wijGetBBox();j=h.wijGetBBox();i.wijRemove();i=null;h.wijRemove();h=null}else{o=c._nicePrecision(e);l=o+1;if(l<0||l>15)l=0;i=c._text(-1e3,-1e3,a.round(p,l)).attr(m);h=c._text(-1e3,-1e3,a.round(q,l)).attr(m);g=i.wijGetBBox();j=h.wijGetBBox();i.wijRemove();i=null;h.wijRemove();h=null}if(g.width<j.width)g.width=j.width;if(g.height<j.height)g.height=j.height;if(!c._isVertical(f.compass)){w=n.endX-n.startX-d.vOffset-d.axisTextOffset;b=w/g.width;if(Number.POSITIVE_INFINITY===b)k=0;else k=parseInt(b,10)}else{u=n.endY-n.startY-d.vOffset-d.axisTextOffset;b=u/g.height;if(Number.POSITIVE_INFINITY===b)k=0;else k=parseInt(b,10)}b=e;if(k>0){e/=k;if(v)if(e<x)b=x;else b=c._niceTimeUnit(e,d.annoFormatString);else{d.tprec=c._nicePrecision(e);b=c._niceNumber(2*e,-o,true);if(b<e)b=c._niceNumber(e,-o+1,false);if(b<e)b=c._niceTickNumber(e)}}f.unitMajor=b}if(z&&f.unitMajor&&!isNaN(f.unitMajor))f.unitMinor=f.unitMajor/2}})})(jQuery);